"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@prisma+adapter-pg@7.1.0";
exports.ids = ["vendor-chunks/@prisma+adapter-pg@7.1.0"];
exports.modules = {

/***/ "(action-browser)/../../node_modules/.pnpm/@prisma+adapter-pg@7.1.0/node_modules/@prisma/adapter-pg/dist/index.mjs":
/*!********************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@prisma+adapter-pg@7.1.0/node_modules/@prisma/adapter-pg/dist/index.mjs ***!
  \********************************************************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PrismaPg: () => (/* binding */ PrismaPgAdapterFactory)\n/* harmony export */ });\n/* harmony import */ var _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @prisma/driver-adapter-utils */ \"(action-browser)/../../node_modules/.pnpm/@prisma+debug@7.1.0/node_modules/@prisma/debug/dist/index.mjs\");\n/* harmony import */ var _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @prisma/driver-adapter-utils */ \"(action-browser)/../../node_modules/.pnpm/@prisma+driver-adapter-utils@7.1.0/node_modules/@prisma/driver-adapter-utils/dist/index.mjs\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var postgres_array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! postgres-array */ \"(action-browser)/../../node_modules/.pnpm/postgres-array@3.0.4/node_modules/postgres-array/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// src/pg.ts\n\n\n\n// package.json\nvar name = \"@prisma/adapter-pg\";\n\n// src/constants.ts\nvar FIRST_NORMAL_OBJECT_ID = 16384;\n\n// src/conversion.ts\n\n\n\nvar { types } = pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nvar { builtins: ScalarColumnType, getTypeParser } = types;\nvar AdditionalScalarColumnType = {\n  NAME: 19\n};\nvar ArrayColumnType = {\n  BIT_ARRAY: 1561,\n  BOOL_ARRAY: 1e3,\n  BYTEA_ARRAY: 1001,\n  BPCHAR_ARRAY: 1014,\n  CHAR_ARRAY: 1002,\n  CIDR_ARRAY: 651,\n  DATE_ARRAY: 1182,\n  FLOAT4_ARRAY: 1021,\n  FLOAT8_ARRAY: 1022,\n  INET_ARRAY: 1041,\n  INT2_ARRAY: 1005,\n  INT4_ARRAY: 1007,\n  INT8_ARRAY: 1016,\n  JSONB_ARRAY: 3807,\n  JSON_ARRAY: 199,\n  MONEY_ARRAY: 791,\n  NUMERIC_ARRAY: 1231,\n  OID_ARRAY: 1028,\n  TEXT_ARRAY: 1009,\n  TIMESTAMP_ARRAY: 1115,\n  TIMESTAMPTZ_ARRAY: 1185,\n  TIME_ARRAY: 1183,\n  UUID_ARRAY: 2951,\n  VARBIT_ARRAY: 1563,\n  VARCHAR_ARRAY: 1015,\n  XML_ARRAY: 143\n};\nvar UnsupportedNativeDataType = class _UnsupportedNativeDataType extends Error {\n  // map of type codes to type names\n  static typeNames = {\n    16: \"bool\",\n    17: \"bytea\",\n    18: \"char\",\n    19: \"name\",\n    20: \"int8\",\n    21: \"int2\",\n    22: \"int2vector\",\n    23: \"int4\",\n    24: \"regproc\",\n    25: \"text\",\n    26: \"oid\",\n    27: \"tid\",\n    28: \"xid\",\n    29: \"cid\",\n    30: \"oidvector\",\n    32: \"pg_ddl_command\",\n    71: \"pg_type\",\n    75: \"pg_attribute\",\n    81: \"pg_proc\",\n    83: \"pg_class\",\n    114: \"json\",\n    142: \"xml\",\n    194: \"pg_node_tree\",\n    269: \"table_am_handler\",\n    325: \"index_am_handler\",\n    600: \"point\",\n    601: \"lseg\",\n    602: \"path\",\n    603: \"box\",\n    604: \"polygon\",\n    628: \"line\",\n    650: \"cidr\",\n    700: \"float4\",\n    701: \"float8\",\n    705: \"unknown\",\n    718: \"circle\",\n    774: \"macaddr8\",\n    790: \"money\",\n    829: \"macaddr\",\n    869: \"inet\",\n    1033: \"aclitem\",\n    1042: \"bpchar\",\n    1043: \"varchar\",\n    1082: \"date\",\n    1083: \"time\",\n    1114: \"timestamp\",\n    1184: \"timestamptz\",\n    1186: \"interval\",\n    1266: \"timetz\",\n    1560: \"bit\",\n    1562: \"varbit\",\n    1700: \"numeric\",\n    1790: \"refcursor\",\n    2202: \"regprocedure\",\n    2203: \"regoper\",\n    2204: \"regoperator\",\n    2205: \"regclass\",\n    2206: \"regtype\",\n    2249: \"record\",\n    2275: \"cstring\",\n    2276: \"any\",\n    2277: \"anyarray\",\n    2278: \"void\",\n    2279: \"trigger\",\n    2280: \"language_handler\",\n    2281: \"internal\",\n    2283: \"anyelement\",\n    2287: \"_record\",\n    2776: \"anynonarray\",\n    2950: \"uuid\",\n    2970: \"txid_snapshot\",\n    3115: \"fdw_handler\",\n    3220: \"pg_lsn\",\n    3310: \"tsm_handler\",\n    3361: \"pg_ndistinct\",\n    3402: \"pg_dependencies\",\n    3500: \"anyenum\",\n    3614: \"tsvector\",\n    3615: \"tsquery\",\n    3642: \"gtsvector\",\n    3734: \"regconfig\",\n    3769: \"regdictionary\",\n    3802: \"jsonb\",\n    3831: \"anyrange\",\n    3838: \"event_trigger\",\n    3904: \"int4range\",\n    3906: \"numrange\",\n    3908: \"tsrange\",\n    3910: \"tstzrange\",\n    3912: \"daterange\",\n    3926: \"int8range\",\n    4072: \"jsonpath\",\n    4089: \"regnamespace\",\n    4096: \"regrole\",\n    4191: \"regcollation\",\n    4451: \"int4multirange\",\n    4532: \"nummultirange\",\n    4533: \"tsmultirange\",\n    4534: \"tstzmultirange\",\n    4535: \"datemultirange\",\n    4536: \"int8multirange\",\n    4537: \"anymultirange\",\n    4538: \"anycompatiblemultirange\",\n    4600: \"pg_brin_bloom_summary\",\n    4601: \"pg_brin_minmax_multi_summary\",\n    5017: \"pg_mcv_list\",\n    5038: \"pg_snapshot\",\n    5069: \"xid8\",\n    5077: \"anycompatible\",\n    5078: \"anycompatiblearray\",\n    5079: \"anycompatiblenonarray\",\n    5080: \"anycompatiblerange\"\n  };\n  type;\n  constructor(code) {\n    super();\n    this.type = _UnsupportedNativeDataType.typeNames[code] || \"Unknown\";\n    this.message = `Unsupported column type ${this.type}`;\n  }\n};\nfunction fieldToColumnType(fieldTypeId) {\n  switch (fieldTypeId) {\n    case ScalarColumnType.INT2:\n    case ScalarColumnType.INT4:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int32;\n    case ScalarColumnType.INT8:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int64;\n    case ScalarColumnType.FLOAT4:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Float;\n    case ScalarColumnType.FLOAT8:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Double;\n    case ScalarColumnType.BOOL:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Boolean;\n    case ScalarColumnType.DATE:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Date;\n    case ScalarColumnType.TIME:\n    case ScalarColumnType.TIMETZ:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Time;\n    case ScalarColumnType.TIMESTAMP:\n    case ScalarColumnType.TIMESTAMPTZ:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DateTime;\n    case ScalarColumnType.NUMERIC:\n    case ScalarColumnType.MONEY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Numeric;\n    case ScalarColumnType.JSON:\n    case ScalarColumnType.JSONB:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Json;\n    case ScalarColumnType.UUID:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Uuid;\n    case ScalarColumnType.OID:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int64;\n    case ScalarColumnType.BPCHAR:\n    case ScalarColumnType.TEXT:\n    case ScalarColumnType.VARCHAR:\n    case ScalarColumnType.BIT:\n    case ScalarColumnType.VARBIT:\n    case ScalarColumnType.INET:\n    case ScalarColumnType.CIDR:\n    case ScalarColumnType.XML:\n    case AdditionalScalarColumnType.NAME:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Text;\n    case ScalarColumnType.BYTEA:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Bytes;\n    case ArrayColumnType.INT2_ARRAY:\n    case ArrayColumnType.INT4_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int32Array;\n    case ArrayColumnType.FLOAT4_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.FloatArray;\n    case ArrayColumnType.FLOAT8_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DoubleArray;\n    case ArrayColumnType.NUMERIC_ARRAY:\n    case ArrayColumnType.MONEY_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.NumericArray;\n    case ArrayColumnType.BOOL_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.BooleanArray;\n    case ArrayColumnType.CHAR_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.CharacterArray;\n    case ArrayColumnType.BPCHAR_ARRAY:\n    case ArrayColumnType.TEXT_ARRAY:\n    case ArrayColumnType.VARCHAR_ARRAY:\n    case ArrayColumnType.VARBIT_ARRAY:\n    case ArrayColumnType.BIT_ARRAY:\n    case ArrayColumnType.INET_ARRAY:\n    case ArrayColumnType.CIDR_ARRAY:\n    case ArrayColumnType.XML_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.TextArray;\n    case ArrayColumnType.DATE_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DateArray;\n    case ArrayColumnType.TIME_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.TimeArray;\n    case ArrayColumnType.TIMESTAMP_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DateTimeArray;\n    case ArrayColumnType.TIMESTAMPTZ_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DateTimeArray;\n    case ArrayColumnType.JSON_ARRAY:\n    case ArrayColumnType.JSONB_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.JsonArray;\n    case ArrayColumnType.BYTEA_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.BytesArray;\n    case ArrayColumnType.UUID_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.UuidArray;\n    case ArrayColumnType.INT8_ARRAY:\n    case ArrayColumnType.OID_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int64Array;\n    default:\n      if (fieldTypeId >= FIRST_NORMAL_OBJECT_ID) {\n        return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Text;\n      }\n      throw new UnsupportedNativeDataType(fieldTypeId);\n  }\n}\nfunction normalize_array(element_normalizer) {\n  return (str) => (0,postgres_array__WEBPACK_IMPORTED_MODULE_1__.parse)(str, element_normalizer);\n}\nfunction normalize_numeric(numeric) {\n  return numeric;\n}\nfunction normalize_date(date) {\n  return date;\n}\nfunction normalize_timestamp(time) {\n  return `${time.replace(\" \", \"T\")}+00:00`;\n}\nfunction normalize_timestamptz(time) {\n  return time.replace(\" \", \"T\").replace(/[+-]\\d{2}(:\\d{2})?$/, \"+00:00\");\n}\nfunction normalize_time(time) {\n  return time;\n}\nfunction normalize_timez(time) {\n  return time.replace(/[+-]\\d{2}(:\\d{2})?$/, \"\");\n}\nfunction normalize_money(money) {\n  return money.slice(1);\n}\nfunction normalize_xml(xml) {\n  return xml;\n}\nfunction toJson(json) {\n  return json;\n}\nfunction encodeBuffer(buffer) {\n  return Array.from(new Uint8Array(buffer));\n}\nvar parsePgBytes = getTypeParser(ScalarColumnType.BYTEA);\nvar parseBytesArray = getTypeParser(ArrayColumnType.BYTEA_ARRAY);\nfunction normalizeByteaArray(serializedBytesArray) {\n  const buffers = parseBytesArray(serializedBytesArray);\n  return buffers.map((buf) => buf ? encodeBuffer(buf) : null);\n}\nfunction convertBytes(serializedBytes) {\n  const buffer = parsePgBytes(serializedBytes);\n  return encodeBuffer(buffer);\n}\nfunction normalizeBit(bit) {\n  return bit;\n}\nvar customParsers = {\n  [ScalarColumnType.NUMERIC]: normalize_numeric,\n  [ArrayColumnType.NUMERIC_ARRAY]: normalize_array(normalize_numeric),\n  [ScalarColumnType.TIME]: normalize_time,\n  [ArrayColumnType.TIME_ARRAY]: normalize_array(normalize_time),\n  [ScalarColumnType.TIMETZ]: normalize_timez,\n  [ScalarColumnType.DATE]: normalize_date,\n  [ArrayColumnType.DATE_ARRAY]: normalize_array(normalize_date),\n  [ScalarColumnType.TIMESTAMP]: normalize_timestamp,\n  [ArrayColumnType.TIMESTAMP_ARRAY]: normalize_array(normalize_timestamp),\n  [ScalarColumnType.TIMESTAMPTZ]: normalize_timestamptz,\n  [ArrayColumnType.TIMESTAMPTZ_ARRAY]: normalize_array(normalize_timestamptz),\n  [ScalarColumnType.MONEY]: normalize_money,\n  [ArrayColumnType.MONEY_ARRAY]: normalize_array(normalize_money),\n  [ScalarColumnType.JSON]: toJson,\n  [ArrayColumnType.JSON_ARRAY]: normalize_array(toJson),\n  [ScalarColumnType.JSONB]: toJson,\n  [ArrayColumnType.JSONB_ARRAY]: normalize_array(toJson),\n  [ScalarColumnType.BYTEA]: convertBytes,\n  [ArrayColumnType.BYTEA_ARRAY]: normalizeByteaArray,\n  [ArrayColumnType.BIT_ARRAY]: normalize_array(normalizeBit),\n  [ArrayColumnType.VARBIT_ARRAY]: normalize_array(normalizeBit),\n  [ArrayColumnType.XML_ARRAY]: normalize_array(normalize_xml)\n};\nfunction mapArg(arg, argType) {\n  if (arg === null) {\n    return null;\n  }\n  if (Array.isArray(arg) && argType.arity === \"list\") {\n    return arg.map((value) => mapArg(value, argType));\n  }\n  if (typeof arg === \"string\" && argType.scalarType === \"datetime\") {\n    arg = new Date(arg);\n  }\n  if (arg instanceof Date) {\n    switch (argType.dbType) {\n      case \"TIME\":\n      case \"TIMETZ\":\n        return formatTime(arg);\n      case \"DATE\":\n        return formatDate(arg);\n      default:\n        return formatDateTime(arg);\n    }\n  }\n  if (typeof arg === \"string\" && argType.scalarType === \"bytes\") {\n    return Buffer.from(arg, \"base64\");\n  }\n  if (Array.isArray(arg) && argType.scalarType === \"bytes\") {\n    return Buffer.from(arg);\n  }\n  if (ArrayBuffer.isView(arg)) {\n    return Buffer.from(arg.buffer, arg.byteOffset, arg.byteLength);\n  }\n  return arg;\n}\nfunction formatDateTime(date) {\n  const pad = (n, z = 2) => String(n).padStart(z, \"0\");\n  const ms = date.getUTCMilliseconds();\n  return pad(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1) + \"-\" + pad(date.getUTCDate()) + \" \" + pad(date.getUTCHours()) + \":\" + pad(date.getUTCMinutes()) + \":\" + pad(date.getUTCSeconds()) + (ms ? \".\" + String(ms).padStart(3, \"0\") : \"\");\n}\nfunction formatDate(date) {\n  const pad = (n, z = 2) => String(n).padStart(z, \"0\");\n  return pad(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1) + \"-\" + pad(date.getUTCDate());\n}\nfunction formatTime(date) {\n  const pad = (n, z = 2) => String(n).padStart(z, \"0\");\n  const ms = date.getUTCMilliseconds();\n  return pad(date.getUTCHours()) + \":\" + pad(date.getUTCMinutes()) + \":\" + pad(date.getUTCSeconds()) + (ms ? \".\" + String(ms).padStart(3, \"0\") : \"\");\n}\n\n// src/errors.ts\nvar TLS_ERRORS = /* @__PURE__ */ new Set([\n  \"UNABLE_TO_GET_ISSUER_CERT\",\n  \"UNABLE_TO_GET_CRL\",\n  \"UNABLE_TO_DECRYPT_CERT_SIGNATURE\",\n  \"UNABLE_TO_DECRYPT_CRL_SIGNATURE\",\n  \"UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY\",\n  \"CERT_SIGNATURE_FAILURE\",\n  \"CRL_SIGNATURE_FAILURE\",\n  \"CERT_NOT_YET_VALID\",\n  \"CERT_HAS_EXPIRED\",\n  \"CRL_NOT_YET_VALID\",\n  \"CRL_HAS_EXPIRED\",\n  \"ERROR_IN_CERT_NOT_BEFORE_FIELD\",\n  \"ERROR_IN_CERT_NOT_AFTER_FIELD\",\n  \"ERROR_IN_CRL_LAST_UPDATE_FIELD\",\n  \"ERROR_IN_CRL_NEXT_UPDATE_FIELD\",\n  \"DEPTH_ZERO_SELF_SIGNED_CERT\",\n  \"SELF_SIGNED_CERT_IN_CHAIN\",\n  \"UNABLE_TO_GET_ISSUER_CERT_LOCALLY\",\n  \"UNABLE_TO_VERIFY_LEAF_SIGNATURE\",\n  \"CERT_CHAIN_TOO_LONG\",\n  \"CERT_REVOKED\",\n  \"INVALID_CA\",\n  \"INVALID_PURPOSE\",\n  \"CERT_UNTRUSTED\",\n  \"CERT_REJECTED\",\n  \"HOSTNAME_MISMATCH\",\n  \"ERR_TLS_CERT_ALTNAME_FORMAT\",\n  \"ERR_TLS_CERT_ALTNAME_INVALID\"\n]);\nvar SOCKET_ERRORS = /* @__PURE__ */ new Set([\"ENOTFOUND\", \"ECONNREFUSED\", \"ECONNRESET\", \"ETIMEDOUT\"]);\nfunction convertDriverError(error) {\n  if (isSocketError(error)) {\n    return mapSocketError(error);\n  }\n  if (isTlsError(error)) {\n    return {\n      kind: \"TlsConnectionError\",\n      reason: error.message\n    };\n  }\n  if (isDriverError(error)) {\n    return {\n      originalCode: error.code,\n      originalMessage: error.message,\n      ...mapDriverError(error)\n    };\n  }\n  throw error;\n}\nfunction mapDriverError(error) {\n  switch (error.code) {\n    case \"22001\":\n      return {\n        kind: \"LengthMismatch\",\n        column: error.column\n      };\n    case \"22003\":\n      return {\n        kind: \"ValueOutOfRange\",\n        cause: error.message\n      };\n    case \"23505\": {\n      const fields = error.detail?.match(/Key \\(([^)]+)\\)/)?.at(1)?.split(\", \");\n      return {\n        kind: \"UniqueConstraintViolation\",\n        constraint: fields !== void 0 ? { fields } : void 0\n      };\n    }\n    case \"23502\": {\n      const fields = error.detail?.match(/Key \\(([^)]+)\\)/)?.at(1)?.split(\", \");\n      return {\n        kind: \"NullConstraintViolation\",\n        constraint: fields !== void 0 ? { fields } : void 0\n      };\n    }\n    case \"23503\": {\n      let constraint;\n      if (error.column) {\n        constraint = { fields: [error.column] };\n      } else if (error.constraint) {\n        constraint = { index: error.constraint };\n      }\n      return {\n        kind: \"ForeignKeyConstraintViolation\",\n        constraint\n      };\n    }\n    case \"3D000\":\n      return {\n        kind: \"DatabaseDoesNotExist\",\n        db: error.message.split(\" \").at(1)?.split('\"').at(1)\n      };\n    case \"28000\":\n      return {\n        kind: \"DatabaseAccessDenied\",\n        db: error.message.split(\",\").find((s) => s.startsWith(\" database\"))?.split('\"').at(1)\n      };\n    case \"28P01\":\n      return {\n        kind: \"AuthenticationFailed\",\n        user: error.message.split(\" \").pop()?.split('\"').at(1)\n      };\n    case \"40001\":\n      return {\n        kind: \"TransactionWriteConflict\"\n      };\n    case \"42P01\":\n      return {\n        kind: \"TableDoesNotExist\",\n        table: error.message.split(\" \").at(1)?.split('\"').at(1)\n      };\n    case \"42703\":\n      return {\n        kind: \"ColumnNotFound\",\n        column: error.message.split(\" \").at(1)?.split('\"').at(1)\n      };\n    case \"42P04\":\n      return {\n        kind: \"DatabaseAlreadyExists\",\n        db: error.message.split(\" \").at(1)?.split('\"').at(1)\n      };\n    case \"53300\":\n      return {\n        kind: \"TooManyConnections\",\n        cause: error.message\n      };\n    default:\n      return {\n        kind: \"postgres\",\n        code: error.code ?? \"N/A\",\n        severity: error.severity ?? \"N/A\",\n        message: error.message,\n        detail: error.detail,\n        column: error.column,\n        hint: error.hint\n      };\n  }\n}\nfunction isDriverError(error) {\n  return typeof error.code === \"string\" && typeof error.message === \"string\" && typeof error.severity === \"string\" && (typeof error.detail === \"string\" || error.detail === void 0) && (typeof error.column === \"string\" || error.column === void 0) && (typeof error.hint === \"string\" || error.hint === void 0);\n}\nfunction mapSocketError(error) {\n  switch (error.code) {\n    case \"ENOTFOUND\":\n    case \"ECONNREFUSED\":\n      return {\n        kind: \"DatabaseNotReachable\",\n        host: error.address ?? error.hostname,\n        port: error.port\n      };\n    case \"ECONNRESET\":\n      return {\n        kind: \"ConnectionClosed\"\n      };\n    case \"ETIMEDOUT\":\n      return {\n        kind: \"SocketTimeout\"\n      };\n  }\n}\nfunction isSocketError(error) {\n  return typeof error.code === \"string\" && typeof error.syscall === \"string\" && typeof error.errno === \"number\" && SOCKET_ERRORS.has(error.code);\n}\nfunction isTlsError(error) {\n  if (typeof error.code === \"string\") {\n    return TLS_ERRORS.has(error.code);\n  }\n  switch (error.message) {\n    case \"The server does not support SSL connections\":\n    case \"There was an error establishing an SSL connection\":\n      return true;\n  }\n  return false;\n}\n\n// src/pg.ts\nvar types2 = pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].types;\nvar debug = (0,_prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_3__.Debug)(\"prisma:driver-adapter:pg\");\nvar PgQueryable = class {\n  constructor(client, pgOptions) {\n    this.client = client;\n    this.pgOptions = pgOptions;\n  }\n  provider = \"postgres\";\n  adapterName = name;\n  /**\n   * Execute a query given as SQL, interpolating the given parameters.\n   */\n  async queryRaw(query) {\n    const tag = \"[js::query_raw]\";\n    debug(`${tag} %O`, query);\n    const { fields, rows } = await this.performIO(query);\n    const columnNames = fields.map((field) => field.name);\n    let columnTypes = [];\n    try {\n      columnTypes = fields.map((field) => fieldToColumnType(field.dataTypeID));\n    } catch (e) {\n      if (e instanceof UnsupportedNativeDataType) {\n        throw new _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.DriverAdapterError({\n          kind: \"UnsupportedNativeDataType\",\n          type: e.type\n        });\n      }\n      throw e;\n    }\n    const udtParser = this.pgOptions?.userDefinedTypeParser;\n    if (udtParser) {\n      for (let i = 0; i < fields.length; i++) {\n        const field = fields[i];\n        if (field.dataTypeID >= FIRST_NORMAL_OBJECT_ID && !Object.hasOwn(customParsers, field.dataTypeID)) {\n          for (let j = 0; j < rows.length; j++) {\n            rows[j][i] = await udtParser(field.dataTypeID, rows[j][i], this);\n          }\n        }\n      }\n    }\n    return {\n      columnNames,\n      columnTypes,\n      rows\n    };\n  }\n  /**\n   * Execute a query given as SQL, interpolating the given parameters and\n   * returning the number of affected rows.\n   * Note: Queryable expects a u64, but napi.rs only supports u32.\n   */\n  async executeRaw(query) {\n    const tag = \"[js::execute_raw]\";\n    debug(`${tag} %O`, query);\n    return (await this.performIO(query)).rowCount ?? 0;\n  }\n  /**\n   * Run a query against the database, returning the result set.\n   * Should the query fail due to a connection error, the connection is\n   * marked as unhealthy.\n   */\n  async performIO(query) {\n    const { sql, args } = query;\n    const values = args.map((arg, i) => mapArg(arg, query.argTypes[i]));\n    try {\n      const result = await this.client.query(\n        {\n          text: sql,\n          values,\n          rowMode: \"array\",\n          types: {\n            // This is the error expected:\n            // No overload matches this call.\n            // The last overload gave the following error.\n            // Type '(oid: number, format?: any) => (json: string) => unknown' is not assignable to type '{ <T>(oid: number): TypeParser<string, string | T>; <T>(oid: number, format: \"text\"): TypeParser<string, string | T>; <T>(oid: number, format: \"binary\"): TypeParser<...>; }'.\n            //   Type '(json: string) => unknown' is not assignable to type 'TypeParser<Buffer, any>'.\n            //     Types of parameters 'json' and 'value' are incompatible.\n            //       Type 'Buffer' is not assignable to type 'string'.ts(2769)\n            //\n            // Because pg-types types expect us to handle both binary and text protocol versions,\n            // where as far we can see, pg will ever pass only text version.\n            //\n            // @ts-expect-error\n            getTypeParser: (oid, format) => {\n              if (format === \"text\" && customParsers[oid]) {\n                return customParsers[oid];\n              }\n              return types2.getTypeParser(oid, format);\n            }\n          }\n        },\n        values\n      );\n      return result;\n    } catch (e) {\n      this.onError(e);\n    }\n  }\n  onError(error) {\n    debug(\"Error in performIO: %O\", error);\n    throw new _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.DriverAdapterError(convertDriverError(error));\n  }\n};\nvar PgTransaction = class extends PgQueryable {\n  constructor(client, options, pgOptions, cleanup) {\n    super(client, pgOptions);\n    this.options = options;\n    this.pgOptions = pgOptions;\n    this.cleanup = cleanup;\n  }\n  async commit() {\n    debug(`[js::commit]`);\n    this.cleanup?.();\n    this.client.release();\n  }\n  async rollback() {\n    debug(`[js::rollback]`);\n    this.cleanup?.();\n    this.client.release();\n  }\n};\nvar PrismaPgAdapter = class extends PgQueryable {\n  constructor(client, pgOptions, release) {\n    super(client);\n    this.pgOptions = pgOptions;\n    this.release = release;\n  }\n  async startTransaction(isolationLevel) {\n    const options = {\n      usePhantomQuery: false\n    };\n    const tag = \"[js::startTransaction]\";\n    debug(\"%s options: %O\", tag, options);\n    const conn = await this.client.connect().catch((error) => this.onError(error));\n    const onError = (err) => {\n      debug(`Error from pool connection: ${err.message} %O`, err);\n      this.pgOptions?.onConnectionError?.(err);\n    };\n    conn.on(\"error\", onError);\n    const cleanup = () => {\n      conn.removeListener(\"error\", onError);\n    };\n    try {\n      const tx = new PgTransaction(conn, options, this.pgOptions, cleanup);\n      await tx.executeRaw({ sql: \"BEGIN\", args: [], argTypes: [] });\n      if (isolationLevel) {\n        await tx.executeRaw({\n          sql: `SET TRANSACTION ISOLATION LEVEL ${isolationLevel}`,\n          args: [],\n          argTypes: []\n        });\n      }\n      return tx;\n    } catch (error) {\n      cleanup();\n      conn.release(error);\n      this.onError(error);\n    }\n  }\n  async executeScript(script) {\n    const statements = script.split(\";\").map((stmt) => stmt.trim()).filter((stmt) => stmt.length > 0);\n    for (const stmt of statements) {\n      try {\n        await this.client.query(stmt);\n      } catch (error) {\n        this.onError(error);\n      }\n    }\n  }\n  getConnectionInfo() {\n    return {\n      schemaName: this.pgOptions?.schema,\n      supportsRelationJoins: true\n    };\n  }\n  async dispose() {\n    return this.release?.();\n  }\n  underlyingDriver() {\n    return this.client;\n  }\n};\nvar PrismaPgAdapterFactory = class {\n  constructor(poolOrConfig, options) {\n    this.options = options;\n    if (poolOrConfig instanceof pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pool) {\n      this.externalPool = poolOrConfig;\n      this.config = poolOrConfig.options;\n    } else {\n      this.externalPool = null;\n      this.config = poolOrConfig;\n    }\n  }\n  provider = \"postgres\";\n  adapterName = name;\n  config;\n  externalPool;\n  async connect() {\n    const client = this.externalPool ?? new pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pool(this.config);\n    const onIdleClientError = (err) => {\n      debug(`Error from idle pool client: ${err.message} %O`, err);\n      this.options?.onPoolError?.(err);\n    };\n    client.on(\"error\", onIdleClientError);\n    return new PrismaPgAdapter(client, this.options, async () => {\n      if (this.externalPool) {\n        if (this.options?.disposeExternalPool) {\n          await this.externalPool.end();\n          this.externalPool = null;\n        } else {\n          this.externalPool.removeListener(\"error\", onIdleClientError);\n        }\n      } else {\n        await client.end();\n      }\n    });\n  }\n  async connectToShadowDb() {\n    const conn = await this.connect();\n    const database = `prisma_migrate_shadow_db_${globalThis.crypto.randomUUID()}`;\n    await conn.executeScript(`CREATE DATABASE \"${database}\"`);\n    const client = new pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pool({ ...this.config, database });\n    return new PrismaPgAdapter(client, void 0, async () => {\n      await conn.executeScript(`DROP DATABASE \"${database}\"`);\n      await client.end();\n    });\n  }\n};\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByaXNtYSthZGFwdGVyLXBnQDcuMS4wL25vZGVfbW9kdWxlcy9AcHJpc21hL2FkYXB0ZXItcGcvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUN5RTtBQUNwRDs7QUFFckI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQzhEO0FBQzFDO0FBQ2lDO0FBQ3JELE1BQU0sUUFBUSxFQUFFLDBDQUFFO0FBQ2xCLE1BQU0sNENBQTRDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFVBQVU7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQTtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxlQUFlLHdFQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscURBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdUJBQXVCO0FBQ25DO0FBQ0E7QUFDQSxnREFBZ0QsRUFBRSxLQUFLLEVBQUU7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixFQUFFLEtBQUssRUFBRTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsU0FBUztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsU0FBUztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLFFBQVE7QUFDUix1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxnREFBUztBQUN0QixZQUFZLG1FQUFLO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsS0FBSztBQUNsQixZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxrQkFBa0IsNEVBQWtCO0FBQ3BDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtQkFBbUI7QUFDekM7QUFDQTtBQUNBLDBCQUEwQixpQkFBaUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxLQUFLO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRHQUE0RyxrREFBa0Qsa0VBQWtFLHNEQUFzRDtBQUN0UjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDRFQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxhQUFhO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0NBQXNDO0FBQ2xFO0FBQ0E7QUFDQSxrREFBa0QsZUFBZTtBQUNqRTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLCtDQUFRO0FBQ3hDO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLCtDQUFRO0FBQ3BEO0FBQ0EsNENBQTRDLGFBQWE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsaURBQWlELCtCQUErQjtBQUNoRixpREFBaUQsU0FBUztBQUMxRCx1QkFBdUIsK0NBQVEsR0FBRywwQkFBMEI7QUFDNUQ7QUFDQSxpREFBaUQsU0FBUztBQUMxRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIkM6XFxCQVNFXFxERU5JS08tUFJPSkVDVFxcZGVuaWtvXFxub2RlX21vZHVsZXNcXC5wbnBtXFxAcHJpc21hK2FkYXB0ZXItcGdANy4xLjBcXG5vZGVfbW9kdWxlc1xcQHByaXNtYVxcYWRhcHRlci1wZ1xcZGlzdFxcaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9wZy50c1xuaW1wb3J0IHsgRGVidWcsIERyaXZlckFkYXB0ZXJFcnJvciB9IGZyb20gXCJAcHJpc21hL2RyaXZlci1hZGFwdGVyLXV0aWxzXCI7XG5pbXBvcnQgcGcyIGZyb20gXCJwZ1wiO1xuXG4vLyBwYWNrYWdlLmpzb25cbnZhciBuYW1lID0gXCJAcHJpc21hL2FkYXB0ZXItcGdcIjtcblxuLy8gc3JjL2NvbnN0YW50cy50c1xudmFyIEZJUlNUX05PUk1BTF9PQkpFQ1RfSUQgPSAxNjM4NDtcblxuLy8gc3JjL2NvbnZlcnNpb24udHNcbmltcG9ydCB7IENvbHVtblR5cGVFbnVtIH0gZnJvbSBcIkBwcmlzbWEvZHJpdmVyLWFkYXB0ZXItdXRpbHNcIjtcbmltcG9ydCBwZyBmcm9tIFwicGdcIjtcbmltcG9ydCB7IHBhcnNlIGFzIHBhcnNlQXJyYXkgfSBmcm9tIFwicG9zdGdyZXMtYXJyYXlcIjtcbnZhciB7IHR5cGVzIH0gPSBwZztcbnZhciB7IGJ1aWx0aW5zOiBTY2FsYXJDb2x1bW5UeXBlLCBnZXRUeXBlUGFyc2VyIH0gPSB0eXBlcztcbnZhciBBZGRpdGlvbmFsU2NhbGFyQ29sdW1uVHlwZSA9IHtcbiAgTkFNRTogMTlcbn07XG52YXIgQXJyYXlDb2x1bW5UeXBlID0ge1xuICBCSVRfQVJSQVk6IDE1NjEsXG4gIEJPT0xfQVJSQVk6IDFlMyxcbiAgQllURUFfQVJSQVk6IDEwMDEsXG4gIEJQQ0hBUl9BUlJBWTogMTAxNCxcbiAgQ0hBUl9BUlJBWTogMTAwMixcbiAgQ0lEUl9BUlJBWTogNjUxLFxuICBEQVRFX0FSUkFZOiAxMTgyLFxuICBGTE9BVDRfQVJSQVk6IDEwMjEsXG4gIEZMT0FUOF9BUlJBWTogMTAyMixcbiAgSU5FVF9BUlJBWTogMTA0MSxcbiAgSU5UMl9BUlJBWTogMTAwNSxcbiAgSU5UNF9BUlJBWTogMTAwNyxcbiAgSU5UOF9BUlJBWTogMTAxNixcbiAgSlNPTkJfQVJSQVk6IDM4MDcsXG4gIEpTT05fQVJSQVk6IDE5OSxcbiAgTU9ORVlfQVJSQVk6IDc5MSxcbiAgTlVNRVJJQ19BUlJBWTogMTIzMSxcbiAgT0lEX0FSUkFZOiAxMDI4LFxuICBURVhUX0FSUkFZOiAxMDA5LFxuICBUSU1FU1RBTVBfQVJSQVk6IDExMTUsXG4gIFRJTUVTVEFNUFRaX0FSUkFZOiAxMTg1LFxuICBUSU1FX0FSUkFZOiAxMTgzLFxuICBVVUlEX0FSUkFZOiAyOTUxLFxuICBWQVJCSVRfQVJSQVk6IDE1NjMsXG4gIFZBUkNIQVJfQVJSQVk6IDEwMTUsXG4gIFhNTF9BUlJBWTogMTQzXG59O1xudmFyIFVuc3VwcG9ydGVkTmF0aXZlRGF0YVR5cGUgPSBjbGFzcyBfVW5zdXBwb3J0ZWROYXRpdmVEYXRhVHlwZSBleHRlbmRzIEVycm9yIHtcbiAgLy8gbWFwIG9mIHR5cGUgY29kZXMgdG8gdHlwZSBuYW1lc1xuICBzdGF0aWMgdHlwZU5hbWVzID0ge1xuICAgIDE2OiBcImJvb2xcIixcbiAgICAxNzogXCJieXRlYVwiLFxuICAgIDE4OiBcImNoYXJcIixcbiAgICAxOTogXCJuYW1lXCIsXG4gICAgMjA6IFwiaW50OFwiLFxuICAgIDIxOiBcImludDJcIixcbiAgICAyMjogXCJpbnQydmVjdG9yXCIsXG4gICAgMjM6IFwiaW50NFwiLFxuICAgIDI0OiBcInJlZ3Byb2NcIixcbiAgICAyNTogXCJ0ZXh0XCIsXG4gICAgMjY6IFwib2lkXCIsXG4gICAgMjc6IFwidGlkXCIsXG4gICAgMjg6IFwieGlkXCIsXG4gICAgMjk6IFwiY2lkXCIsXG4gICAgMzA6IFwib2lkdmVjdG9yXCIsXG4gICAgMzI6IFwicGdfZGRsX2NvbW1hbmRcIixcbiAgICA3MTogXCJwZ190eXBlXCIsXG4gICAgNzU6IFwicGdfYXR0cmlidXRlXCIsXG4gICAgODE6IFwicGdfcHJvY1wiLFxuICAgIDgzOiBcInBnX2NsYXNzXCIsXG4gICAgMTE0OiBcImpzb25cIixcbiAgICAxNDI6IFwieG1sXCIsXG4gICAgMTk0OiBcInBnX25vZGVfdHJlZVwiLFxuICAgIDI2OTogXCJ0YWJsZV9hbV9oYW5kbGVyXCIsXG4gICAgMzI1OiBcImluZGV4X2FtX2hhbmRsZXJcIixcbiAgICA2MDA6IFwicG9pbnRcIixcbiAgICA2MDE6IFwibHNlZ1wiLFxuICAgIDYwMjogXCJwYXRoXCIsXG4gICAgNjAzOiBcImJveFwiLFxuICAgIDYwNDogXCJwb2x5Z29uXCIsXG4gICAgNjI4OiBcImxpbmVcIixcbiAgICA2NTA6IFwiY2lkclwiLFxuICAgIDcwMDogXCJmbG9hdDRcIixcbiAgICA3MDE6IFwiZmxvYXQ4XCIsXG4gICAgNzA1OiBcInVua25vd25cIixcbiAgICA3MTg6IFwiY2lyY2xlXCIsXG4gICAgNzc0OiBcIm1hY2FkZHI4XCIsXG4gICAgNzkwOiBcIm1vbmV5XCIsXG4gICAgODI5OiBcIm1hY2FkZHJcIixcbiAgICA4Njk6IFwiaW5ldFwiLFxuICAgIDEwMzM6IFwiYWNsaXRlbVwiLFxuICAgIDEwNDI6IFwiYnBjaGFyXCIsXG4gICAgMTA0MzogXCJ2YXJjaGFyXCIsXG4gICAgMTA4MjogXCJkYXRlXCIsXG4gICAgMTA4MzogXCJ0aW1lXCIsXG4gICAgMTExNDogXCJ0aW1lc3RhbXBcIixcbiAgICAxMTg0OiBcInRpbWVzdGFtcHR6XCIsXG4gICAgMTE4NjogXCJpbnRlcnZhbFwiLFxuICAgIDEyNjY6IFwidGltZXR6XCIsXG4gICAgMTU2MDogXCJiaXRcIixcbiAgICAxNTYyOiBcInZhcmJpdFwiLFxuICAgIDE3MDA6IFwibnVtZXJpY1wiLFxuICAgIDE3OTA6IFwicmVmY3Vyc29yXCIsXG4gICAgMjIwMjogXCJyZWdwcm9jZWR1cmVcIixcbiAgICAyMjAzOiBcInJlZ29wZXJcIixcbiAgICAyMjA0OiBcInJlZ29wZXJhdG9yXCIsXG4gICAgMjIwNTogXCJyZWdjbGFzc1wiLFxuICAgIDIyMDY6IFwicmVndHlwZVwiLFxuICAgIDIyNDk6IFwicmVjb3JkXCIsXG4gICAgMjI3NTogXCJjc3RyaW5nXCIsXG4gICAgMjI3NjogXCJhbnlcIixcbiAgICAyMjc3OiBcImFueWFycmF5XCIsXG4gICAgMjI3ODogXCJ2b2lkXCIsXG4gICAgMjI3OTogXCJ0cmlnZ2VyXCIsXG4gICAgMjI4MDogXCJsYW5ndWFnZV9oYW5kbGVyXCIsXG4gICAgMjI4MTogXCJpbnRlcm5hbFwiLFxuICAgIDIyODM6IFwiYW55ZWxlbWVudFwiLFxuICAgIDIyODc6IFwiX3JlY29yZFwiLFxuICAgIDI3NzY6IFwiYW55bm9uYXJyYXlcIixcbiAgICAyOTUwOiBcInV1aWRcIixcbiAgICAyOTcwOiBcInR4aWRfc25hcHNob3RcIixcbiAgICAzMTE1OiBcImZkd19oYW5kbGVyXCIsXG4gICAgMzIyMDogXCJwZ19sc25cIixcbiAgICAzMzEwOiBcInRzbV9oYW5kbGVyXCIsXG4gICAgMzM2MTogXCJwZ19uZGlzdGluY3RcIixcbiAgICAzNDAyOiBcInBnX2RlcGVuZGVuY2llc1wiLFxuICAgIDM1MDA6IFwiYW55ZW51bVwiLFxuICAgIDM2MTQ6IFwidHN2ZWN0b3JcIixcbiAgICAzNjE1OiBcInRzcXVlcnlcIixcbiAgICAzNjQyOiBcImd0c3ZlY3RvclwiLFxuICAgIDM3MzQ6IFwicmVnY29uZmlnXCIsXG4gICAgMzc2OTogXCJyZWdkaWN0aW9uYXJ5XCIsXG4gICAgMzgwMjogXCJqc29uYlwiLFxuICAgIDM4MzE6IFwiYW55cmFuZ2VcIixcbiAgICAzODM4OiBcImV2ZW50X3RyaWdnZXJcIixcbiAgICAzOTA0OiBcImludDRyYW5nZVwiLFxuICAgIDM5MDY6IFwibnVtcmFuZ2VcIixcbiAgICAzOTA4OiBcInRzcmFuZ2VcIixcbiAgICAzOTEwOiBcInRzdHpyYW5nZVwiLFxuICAgIDM5MTI6IFwiZGF0ZXJhbmdlXCIsXG4gICAgMzkyNjogXCJpbnQ4cmFuZ2VcIixcbiAgICA0MDcyOiBcImpzb25wYXRoXCIsXG4gICAgNDA4OTogXCJyZWduYW1lc3BhY2VcIixcbiAgICA0MDk2OiBcInJlZ3JvbGVcIixcbiAgICA0MTkxOiBcInJlZ2NvbGxhdGlvblwiLFxuICAgIDQ0NTE6IFwiaW50NG11bHRpcmFuZ2VcIixcbiAgICA0NTMyOiBcIm51bW11bHRpcmFuZ2VcIixcbiAgICA0NTMzOiBcInRzbXVsdGlyYW5nZVwiLFxuICAgIDQ1MzQ6IFwidHN0em11bHRpcmFuZ2VcIixcbiAgICA0NTM1OiBcImRhdGVtdWx0aXJhbmdlXCIsXG4gICAgNDUzNjogXCJpbnQ4bXVsdGlyYW5nZVwiLFxuICAgIDQ1Mzc6IFwiYW55bXVsdGlyYW5nZVwiLFxuICAgIDQ1Mzg6IFwiYW55Y29tcGF0aWJsZW11bHRpcmFuZ2VcIixcbiAgICA0NjAwOiBcInBnX2JyaW5fYmxvb21fc3VtbWFyeVwiLFxuICAgIDQ2MDE6IFwicGdfYnJpbl9taW5tYXhfbXVsdGlfc3VtbWFyeVwiLFxuICAgIDUwMTc6IFwicGdfbWN2X2xpc3RcIixcbiAgICA1MDM4OiBcInBnX3NuYXBzaG90XCIsXG4gICAgNTA2OTogXCJ4aWQ4XCIsXG4gICAgNTA3NzogXCJhbnljb21wYXRpYmxlXCIsXG4gICAgNTA3ODogXCJhbnljb21wYXRpYmxlYXJyYXlcIixcbiAgICA1MDc5OiBcImFueWNvbXBhdGlibGVub25hcnJheVwiLFxuICAgIDUwODA6IFwiYW55Y29tcGF0aWJsZXJhbmdlXCJcbiAgfTtcbiAgdHlwZTtcbiAgY29uc3RydWN0b3IoY29kZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy50eXBlID0gX1Vuc3VwcG9ydGVkTmF0aXZlRGF0YVR5cGUudHlwZU5hbWVzW2NvZGVdIHx8IFwiVW5rbm93blwiO1xuICAgIHRoaXMubWVzc2FnZSA9IGBVbnN1cHBvcnRlZCBjb2x1bW4gdHlwZSAke3RoaXMudHlwZX1gO1xuICB9XG59O1xuZnVuY3Rpb24gZmllbGRUb0NvbHVtblR5cGUoZmllbGRUeXBlSWQpIHtcbiAgc3dpdGNoIChmaWVsZFR5cGVJZCkge1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5JTlQyOlxuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5JTlQ0OlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkludDMyO1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5JTlQ4OlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkludDY0O1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5GTE9BVDQ6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uRmxvYXQ7XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLkZMT0FUODpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5Eb3VibGU7XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLkJPT0w6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uQm9vbGVhbjtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuREFURTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5EYXRlO1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5USU1FOlxuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5USU1FVFo6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uVGltZTtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuVElNRVNUQU1QOlxuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5USU1FU1RBTVBUWjpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5EYXRlVGltZTtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuTlVNRVJJQzpcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuTU9ORVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uTnVtZXJpYztcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuSlNPTjpcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuSlNPTkI6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uSnNvbjtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuVVVJRDpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5VdWlkO1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5PSUQ6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uSW50NjQ7XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLkJQQ0hBUjpcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuVEVYVDpcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuVkFSQ0hBUjpcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuQklUOlxuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5WQVJCSVQ6XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLklORVQ6XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLkNJRFI6XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLlhNTDpcbiAgICBjYXNlIEFkZGl0aW9uYWxTY2FsYXJDb2x1bW5UeXBlLk5BTUU6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uVGV4dDtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuQllURUE6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uQnl0ZXM7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuSU5UMl9BUlJBWTpcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5JTlQ0X0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkludDMyQXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuRkxPQVQ0X0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkZsb2F0QXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuRkxPQVQ4X0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkRvdWJsZUFycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLk5VTUVSSUNfQVJSQVk6XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuTU9ORVlfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uTnVtZXJpY0FycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLkJPT0xfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uQm9vbGVhbkFycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLkNIQVJfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uQ2hhcmFjdGVyQXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuQlBDSEFSX0FSUkFZOlxuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLlRFWFRfQVJSQVk6XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuVkFSQ0hBUl9BUlJBWTpcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5WQVJCSVRfQVJSQVk6XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuQklUX0FSUkFZOlxuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLklORVRfQVJSQVk6XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuQ0lEUl9BUlJBWTpcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5YTUxfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uVGV4dEFycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLkRBVEVfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uRGF0ZUFycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLlRJTUVfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uVGltZUFycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLlRJTUVTVEFNUF9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5EYXRlVGltZUFycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLlRJTUVTVEFNUFRaX0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkRhdGVUaW1lQXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuSlNPTl9BUlJBWTpcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5KU09OQl9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5Kc29uQXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuQllURUFfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uQnl0ZXNBcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5VVUlEX0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLlV1aWRBcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5JTlQ4X0FSUkFZOlxuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLk9JRF9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5JbnQ2NEFycmF5O1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoZmllbGRUeXBlSWQgPj0gRklSU1RfTk9STUFMX09CSkVDVF9JRCkge1xuICAgICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uVGV4dDtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE5hdGl2ZURhdGFUeXBlKGZpZWxkVHlwZUlkKTtcbiAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplX2FycmF5KGVsZW1lbnRfbm9ybWFsaXplcikge1xuICByZXR1cm4gKHN0cikgPT4gcGFyc2VBcnJheShzdHIsIGVsZW1lbnRfbm9ybWFsaXplcik7XG59XG5mdW5jdGlvbiBub3JtYWxpemVfbnVtZXJpYyhudW1lcmljKSB7XG4gIHJldHVybiBudW1lcmljO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplX2RhdGUoZGF0ZSkge1xuICByZXR1cm4gZGF0ZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZV90aW1lc3RhbXAodGltZSkge1xuICByZXR1cm4gYCR7dGltZS5yZXBsYWNlKFwiIFwiLCBcIlRcIil9KzAwOjAwYDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZV90aW1lc3RhbXB0eih0aW1lKSB7XG4gIHJldHVybiB0aW1lLnJlcGxhY2UoXCIgXCIsIFwiVFwiKS5yZXBsYWNlKC9bKy1dXFxkezJ9KDpcXGR7Mn0pPyQvLCBcIiswMDowMFwiKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZV90aW1lKHRpbWUpIHtcbiAgcmV0dXJuIHRpbWU7XG59XG5mdW5jdGlvbiBub3JtYWxpemVfdGltZXoodGltZSkge1xuICByZXR1cm4gdGltZS5yZXBsYWNlKC9bKy1dXFxkezJ9KDpcXGR7Mn0pPyQvLCBcIlwiKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZV9tb25leShtb25leSkge1xuICByZXR1cm4gbW9uZXkuc2xpY2UoMSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVfeG1sKHhtbCkge1xuICByZXR1cm4geG1sO1xufVxuZnVuY3Rpb24gdG9Kc29uKGpzb24pIHtcbiAgcmV0dXJuIGpzb247XG59XG5mdW5jdGlvbiBlbmNvZGVCdWZmZXIoYnVmZmVyKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xufVxudmFyIHBhcnNlUGdCeXRlcyA9IGdldFR5cGVQYXJzZXIoU2NhbGFyQ29sdW1uVHlwZS5CWVRFQSk7XG52YXIgcGFyc2VCeXRlc0FycmF5ID0gZ2V0VHlwZVBhcnNlcihBcnJheUNvbHVtblR5cGUuQllURUFfQVJSQVkpO1xuZnVuY3Rpb24gbm9ybWFsaXplQnl0ZWFBcnJheShzZXJpYWxpemVkQnl0ZXNBcnJheSkge1xuICBjb25zdCBidWZmZXJzID0gcGFyc2VCeXRlc0FycmF5KHNlcmlhbGl6ZWRCeXRlc0FycmF5KTtcbiAgcmV0dXJuIGJ1ZmZlcnMubWFwKChidWYpID0+IGJ1ZiA/IGVuY29kZUJ1ZmZlcihidWYpIDogbnVsbCk7XG59XG5mdW5jdGlvbiBjb252ZXJ0Qnl0ZXMoc2VyaWFsaXplZEJ5dGVzKSB7XG4gIGNvbnN0IGJ1ZmZlciA9IHBhcnNlUGdCeXRlcyhzZXJpYWxpemVkQnl0ZXMpO1xuICByZXR1cm4gZW5jb2RlQnVmZmVyKGJ1ZmZlcik7XG59XG5mdW5jdGlvbiBub3JtYWxpemVCaXQoYml0KSB7XG4gIHJldHVybiBiaXQ7XG59XG52YXIgY3VzdG9tUGFyc2VycyA9IHtcbiAgW1NjYWxhckNvbHVtblR5cGUuTlVNRVJJQ106IG5vcm1hbGl6ZV9udW1lcmljLFxuICBbQXJyYXlDb2x1bW5UeXBlLk5VTUVSSUNfQVJSQVldOiBub3JtYWxpemVfYXJyYXkobm9ybWFsaXplX251bWVyaWMpLFxuICBbU2NhbGFyQ29sdW1uVHlwZS5USU1FXTogbm9ybWFsaXplX3RpbWUsXG4gIFtBcnJheUNvbHVtblR5cGUuVElNRV9BUlJBWV06IG5vcm1hbGl6ZV9hcnJheShub3JtYWxpemVfdGltZSksXG4gIFtTY2FsYXJDb2x1bW5UeXBlLlRJTUVUWl06IG5vcm1hbGl6ZV90aW1leixcbiAgW1NjYWxhckNvbHVtblR5cGUuREFURV06IG5vcm1hbGl6ZV9kYXRlLFxuICBbQXJyYXlDb2x1bW5UeXBlLkRBVEVfQVJSQVldOiBub3JtYWxpemVfYXJyYXkobm9ybWFsaXplX2RhdGUpLFxuICBbU2NhbGFyQ29sdW1uVHlwZS5USU1FU1RBTVBdOiBub3JtYWxpemVfdGltZXN0YW1wLFxuICBbQXJyYXlDb2x1bW5UeXBlLlRJTUVTVEFNUF9BUlJBWV06IG5vcm1hbGl6ZV9hcnJheShub3JtYWxpemVfdGltZXN0YW1wKSxcbiAgW1NjYWxhckNvbHVtblR5cGUuVElNRVNUQU1QVFpdOiBub3JtYWxpemVfdGltZXN0YW1wdHosXG4gIFtBcnJheUNvbHVtblR5cGUuVElNRVNUQU1QVFpfQVJSQVldOiBub3JtYWxpemVfYXJyYXkobm9ybWFsaXplX3RpbWVzdGFtcHR6KSxcbiAgW1NjYWxhckNvbHVtblR5cGUuTU9ORVldOiBub3JtYWxpemVfbW9uZXksXG4gIFtBcnJheUNvbHVtblR5cGUuTU9ORVlfQVJSQVldOiBub3JtYWxpemVfYXJyYXkobm9ybWFsaXplX21vbmV5KSxcbiAgW1NjYWxhckNvbHVtblR5cGUuSlNPTl06IHRvSnNvbixcbiAgW0FycmF5Q29sdW1uVHlwZS5KU09OX0FSUkFZXTogbm9ybWFsaXplX2FycmF5KHRvSnNvbiksXG4gIFtTY2FsYXJDb2x1bW5UeXBlLkpTT05CXTogdG9Kc29uLFxuICBbQXJyYXlDb2x1bW5UeXBlLkpTT05CX0FSUkFZXTogbm9ybWFsaXplX2FycmF5KHRvSnNvbiksXG4gIFtTY2FsYXJDb2x1bW5UeXBlLkJZVEVBXTogY29udmVydEJ5dGVzLFxuICBbQXJyYXlDb2x1bW5UeXBlLkJZVEVBX0FSUkFZXTogbm9ybWFsaXplQnl0ZWFBcnJheSxcbiAgW0FycmF5Q29sdW1uVHlwZS5CSVRfQVJSQVldOiBub3JtYWxpemVfYXJyYXkobm9ybWFsaXplQml0KSxcbiAgW0FycmF5Q29sdW1uVHlwZS5WQVJCSVRfQVJSQVldOiBub3JtYWxpemVfYXJyYXkobm9ybWFsaXplQml0KSxcbiAgW0FycmF5Q29sdW1uVHlwZS5YTUxfQVJSQVldOiBub3JtYWxpemVfYXJyYXkobm9ybWFsaXplX3htbClcbn07XG5mdW5jdGlvbiBtYXBBcmcoYXJnLCBhcmdUeXBlKSB7XG4gIGlmIChhcmcgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhcmcpICYmIGFyZ1R5cGUuYXJpdHkgPT09IFwibGlzdFwiKSB7XG4gICAgcmV0dXJuIGFyZy5tYXAoKHZhbHVlKSA9PiBtYXBBcmcodmFsdWUsIGFyZ1R5cGUpKTtcbiAgfVxuICBpZiAodHlwZW9mIGFyZyA9PT0gXCJzdHJpbmdcIiAmJiBhcmdUeXBlLnNjYWxhclR5cGUgPT09IFwiZGF0ZXRpbWVcIikge1xuICAgIGFyZyA9IG5ldyBEYXRlKGFyZyk7XG4gIH1cbiAgaWYgKGFyZyBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICBzd2l0Y2ggKGFyZ1R5cGUuZGJUeXBlKSB7XG4gICAgICBjYXNlIFwiVElNRVwiOlxuICAgICAgY2FzZSBcIlRJTUVUWlwiOlxuICAgICAgICByZXR1cm4gZm9ybWF0VGltZShhcmcpO1xuICAgICAgY2FzZSBcIkRBVEVcIjpcbiAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUoYXJnKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmb3JtYXREYXRlVGltZShhcmcpO1xuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIGFyZyA9PT0gXCJzdHJpbmdcIiAmJiBhcmdUeXBlLnNjYWxhclR5cGUgPT09IFwiYnl0ZXNcIikge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShhcmcsIFwiYmFzZTY0XCIpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGFyZykgJiYgYXJnVHlwZS5zY2FsYXJUeXBlID09PSBcImJ5dGVzXCIpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oYXJnKTtcbiAgfVxuICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGFyZykpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oYXJnLmJ1ZmZlciwgYXJnLmJ5dGVPZmZzZXQsIGFyZy5ieXRlTGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gYXJnO1xufVxuZnVuY3Rpb24gZm9ybWF0RGF0ZVRpbWUoZGF0ZSkge1xuICBjb25zdCBwYWQgPSAobiwgeiA9IDIpID0+IFN0cmluZyhuKS5wYWRTdGFydCh6LCBcIjBcIik7XG4gIGNvbnN0IG1zID0gZGF0ZS5nZXRVVENNaWxsaXNlY29uZHMoKTtcbiAgcmV0dXJuIHBhZChkYXRlLmdldFVUQ0Z1bGxZZWFyKCksIDQpICsgXCItXCIgKyBwYWQoZGF0ZS5nZXRVVENNb250aCgpICsgMSkgKyBcIi1cIiArIHBhZChkYXRlLmdldFVUQ0RhdGUoKSkgKyBcIiBcIiArIHBhZChkYXRlLmdldFVUQ0hvdXJzKCkpICsgXCI6XCIgKyBwYWQoZGF0ZS5nZXRVVENNaW51dGVzKCkpICsgXCI6XCIgKyBwYWQoZGF0ZS5nZXRVVENTZWNvbmRzKCkpICsgKG1zID8gXCIuXCIgKyBTdHJpbmcobXMpLnBhZFN0YXJ0KDMsIFwiMFwiKSA6IFwiXCIpO1xufVxuZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlKSB7XG4gIGNvbnN0IHBhZCA9IChuLCB6ID0gMikgPT4gU3RyaW5nKG4pLnBhZFN0YXJ0KHosIFwiMFwiKTtcbiAgcmV0dXJuIHBhZChkYXRlLmdldFVUQ0Z1bGxZZWFyKCksIDQpICsgXCItXCIgKyBwYWQoZGF0ZS5nZXRVVENNb250aCgpICsgMSkgKyBcIi1cIiArIHBhZChkYXRlLmdldFVUQ0RhdGUoKSk7XG59XG5mdW5jdGlvbiBmb3JtYXRUaW1lKGRhdGUpIHtcbiAgY29uc3QgcGFkID0gKG4sIHogPSAyKSA9PiBTdHJpbmcobikucGFkU3RhcnQoeiwgXCIwXCIpO1xuICBjb25zdCBtcyA9IGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCk7XG4gIHJldHVybiBwYWQoZGF0ZS5nZXRVVENIb3VycygpKSArIFwiOlwiICsgcGFkKGRhdGUuZ2V0VVRDTWludXRlcygpKSArIFwiOlwiICsgcGFkKGRhdGUuZ2V0VVRDU2Vjb25kcygpKSArIChtcyA/IFwiLlwiICsgU3RyaW5nKG1zKS5wYWRTdGFydCgzLCBcIjBcIikgOiBcIlwiKTtcbn1cblxuLy8gc3JjL2Vycm9ycy50c1xudmFyIFRMU19FUlJPUlMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwiVU5BQkxFX1RPX0dFVF9JU1NVRVJfQ0VSVFwiLFxuICBcIlVOQUJMRV9UT19HRVRfQ1JMXCIsXG4gIFwiVU5BQkxFX1RPX0RFQ1JZUFRfQ0VSVF9TSUdOQVRVUkVcIixcbiAgXCJVTkFCTEVfVE9fREVDUllQVF9DUkxfU0lHTkFUVVJFXCIsXG4gIFwiVU5BQkxFX1RPX0RFQ09ERV9JU1NVRVJfUFVCTElDX0tFWVwiLFxuICBcIkNFUlRfU0lHTkFUVVJFX0ZBSUxVUkVcIixcbiAgXCJDUkxfU0lHTkFUVVJFX0ZBSUxVUkVcIixcbiAgXCJDRVJUX05PVF9ZRVRfVkFMSURcIixcbiAgXCJDRVJUX0hBU19FWFBJUkVEXCIsXG4gIFwiQ1JMX05PVF9ZRVRfVkFMSURcIixcbiAgXCJDUkxfSEFTX0VYUElSRURcIixcbiAgXCJFUlJPUl9JTl9DRVJUX05PVF9CRUZPUkVfRklFTERcIixcbiAgXCJFUlJPUl9JTl9DRVJUX05PVF9BRlRFUl9GSUVMRFwiLFxuICBcIkVSUk9SX0lOX0NSTF9MQVNUX1VQREFURV9GSUVMRFwiLFxuICBcIkVSUk9SX0lOX0NSTF9ORVhUX1VQREFURV9GSUVMRFwiLFxuICBcIkRFUFRIX1pFUk9fU0VMRl9TSUdORURfQ0VSVFwiLFxuICBcIlNFTEZfU0lHTkVEX0NFUlRfSU5fQ0hBSU5cIixcbiAgXCJVTkFCTEVfVE9fR0VUX0lTU1VFUl9DRVJUX0xPQ0FMTFlcIixcbiAgXCJVTkFCTEVfVE9fVkVSSUZZX0xFQUZfU0lHTkFUVVJFXCIsXG4gIFwiQ0VSVF9DSEFJTl9UT09fTE9OR1wiLFxuICBcIkNFUlRfUkVWT0tFRFwiLFxuICBcIklOVkFMSURfQ0FcIixcbiAgXCJJTlZBTElEX1BVUlBPU0VcIixcbiAgXCJDRVJUX1VOVFJVU1RFRFwiLFxuICBcIkNFUlRfUkVKRUNURURcIixcbiAgXCJIT1NUTkFNRV9NSVNNQVRDSFwiLFxuICBcIkVSUl9UTFNfQ0VSVF9BTFROQU1FX0ZPUk1BVFwiLFxuICBcIkVSUl9UTFNfQ0VSVF9BTFROQU1FX0lOVkFMSURcIlxuXSk7XG52YXIgU09DS0VUX0VSUk9SUyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcIkVOT1RGT1VORFwiLCBcIkVDT05OUkVGVVNFRFwiLCBcIkVDT05OUkVTRVRcIiwgXCJFVElNRURPVVRcIl0pO1xuZnVuY3Rpb24gY29udmVydERyaXZlckVycm9yKGVycm9yKSB7XG4gIGlmIChpc1NvY2tldEVycm9yKGVycm9yKSkge1xuICAgIHJldHVybiBtYXBTb2NrZXRFcnJvcihlcnJvcik7XG4gIH1cbiAgaWYgKGlzVGxzRXJyb3IoZXJyb3IpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6IFwiVGxzQ29ubmVjdGlvbkVycm9yXCIsXG4gICAgICByZWFzb246IGVycm9yLm1lc3NhZ2VcbiAgICB9O1xuICB9XG4gIGlmIChpc0RyaXZlckVycm9yKGVycm9yKSkge1xuICAgIHJldHVybiB7XG4gICAgICBvcmlnaW5hbENvZGU6IGVycm9yLmNvZGUsXG4gICAgICBvcmlnaW5hbE1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAuLi5tYXBEcml2ZXJFcnJvcihlcnJvcilcbiAgICB9O1xuICB9XG4gIHRocm93IGVycm9yO1xufVxuZnVuY3Rpb24gbWFwRHJpdmVyRXJyb3IoZXJyb3IpIHtcbiAgc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgY2FzZSBcIjIyMDAxXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIkxlbmd0aE1pc21hdGNoXCIsXG4gICAgICAgIGNvbHVtbjogZXJyb3IuY29sdW1uXG4gICAgICB9O1xuICAgIGNhc2UgXCIyMjAwM1wiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJWYWx1ZU91dE9mUmFuZ2VcIixcbiAgICAgICAgY2F1c2U6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgY2FzZSBcIjIzNTA1XCI6IHtcbiAgICAgIGNvbnN0IGZpZWxkcyA9IGVycm9yLmRldGFpbD8ubWF0Y2goL0tleSBcXCgoW14pXSspXFwpLyk/LmF0KDEpPy5zcGxpdChcIiwgXCIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJVbmlxdWVDb25zdHJhaW50VmlvbGF0aW9uXCIsXG4gICAgICAgIGNvbnN0cmFpbnQ6IGZpZWxkcyAhPT0gdm9pZCAwID8geyBmaWVsZHMgfSA6IHZvaWQgMFxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBcIjIzNTAyXCI6IHtcbiAgICAgIGNvbnN0IGZpZWxkcyA9IGVycm9yLmRldGFpbD8ubWF0Y2goL0tleSBcXCgoW14pXSspXFwpLyk/LmF0KDEpPy5zcGxpdChcIiwgXCIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJOdWxsQ29uc3RyYWludFZpb2xhdGlvblwiLFxuICAgICAgICBjb25zdHJhaW50OiBmaWVsZHMgIT09IHZvaWQgMCA/IHsgZmllbGRzIH0gOiB2b2lkIDBcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgXCIyMzUwM1wiOiB7XG4gICAgICBsZXQgY29uc3RyYWludDtcbiAgICAgIGlmIChlcnJvci5jb2x1bW4pIHtcbiAgICAgICAgY29uc3RyYWludCA9IHsgZmllbGRzOiBbZXJyb3IuY29sdW1uXSB9O1xuICAgICAgfSBlbHNlIGlmIChlcnJvci5jb25zdHJhaW50KSB7XG4gICAgICAgIGNvbnN0cmFpbnQgPSB7IGluZGV4OiBlcnJvci5jb25zdHJhaW50IH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIkZvcmVpZ25LZXlDb25zdHJhaW50VmlvbGF0aW9uXCIsXG4gICAgICAgIGNvbnN0cmFpbnRcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgXCIzRDAwMFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJEYXRhYmFzZURvZXNOb3RFeGlzdFwiLFxuICAgICAgICBkYjogZXJyb3IubWVzc2FnZS5zcGxpdChcIiBcIikuYXQoMSk/LnNwbGl0KCdcIicpLmF0KDEpXG4gICAgICB9O1xuICAgIGNhc2UgXCIyODAwMFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJEYXRhYmFzZUFjY2Vzc0RlbmllZFwiLFxuICAgICAgICBkYjogZXJyb3IubWVzc2FnZS5zcGxpdChcIixcIikuZmluZCgocykgPT4gcy5zdGFydHNXaXRoKFwiIGRhdGFiYXNlXCIpKT8uc3BsaXQoJ1wiJykuYXQoMSlcbiAgICAgIH07XG4gICAgY2FzZSBcIjI4UDAxXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIkF1dGhlbnRpY2F0aW9uRmFpbGVkXCIsXG4gICAgICAgIHVzZXI6IGVycm9yLm1lc3NhZ2Uuc3BsaXQoXCIgXCIpLnBvcCgpPy5zcGxpdCgnXCInKS5hdCgxKVxuICAgICAgfTtcbiAgICBjYXNlIFwiNDAwMDFcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiVHJhbnNhY3Rpb25Xcml0ZUNvbmZsaWN0XCJcbiAgICAgIH07XG4gICAgY2FzZSBcIjQyUDAxXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIlRhYmxlRG9lc05vdEV4aXN0XCIsXG4gICAgICAgIHRhYmxlOiBlcnJvci5tZXNzYWdlLnNwbGl0KFwiIFwiKS5hdCgxKT8uc3BsaXQoJ1wiJykuYXQoMSlcbiAgICAgIH07XG4gICAgY2FzZSBcIjQyNzAzXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIkNvbHVtbk5vdEZvdW5kXCIsXG4gICAgICAgIGNvbHVtbjogZXJyb3IubWVzc2FnZS5zcGxpdChcIiBcIikuYXQoMSk/LnNwbGl0KCdcIicpLmF0KDEpXG4gICAgICB9O1xuICAgIGNhc2UgXCI0MlAwNFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJEYXRhYmFzZUFscmVhZHlFeGlzdHNcIixcbiAgICAgICAgZGI6IGVycm9yLm1lc3NhZ2Uuc3BsaXQoXCIgXCIpLmF0KDEpPy5zcGxpdCgnXCInKS5hdCgxKVxuICAgICAgfTtcbiAgICBjYXNlIFwiNTMzMDBcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiVG9vTWFueUNvbm5lY3Rpb25zXCIsXG4gICAgICAgIGNhdXNlOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcInBvc3RncmVzXCIsXG4gICAgICAgIGNvZGU6IGVycm9yLmNvZGUgPz8gXCJOL0FcIixcbiAgICAgICAgc2V2ZXJpdHk6IGVycm9yLnNldmVyaXR5ID8/IFwiTi9BXCIsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIGRldGFpbDogZXJyb3IuZGV0YWlsLFxuICAgICAgICBjb2x1bW46IGVycm9yLmNvbHVtbixcbiAgICAgICAgaGludDogZXJyb3IuaGludFxuICAgICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gaXNEcml2ZXJFcnJvcihlcnJvcikge1xuICByZXR1cm4gdHlwZW9mIGVycm9yLmNvZGUgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGVycm9yLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGVycm9yLnNldmVyaXR5ID09PSBcInN0cmluZ1wiICYmICh0eXBlb2YgZXJyb3IuZGV0YWlsID09PSBcInN0cmluZ1wiIHx8IGVycm9yLmRldGFpbCA9PT0gdm9pZCAwKSAmJiAodHlwZW9mIGVycm9yLmNvbHVtbiA9PT0gXCJzdHJpbmdcIiB8fCBlcnJvci5jb2x1bW4gPT09IHZvaWQgMCkgJiYgKHR5cGVvZiBlcnJvci5oaW50ID09PSBcInN0cmluZ1wiIHx8IGVycm9yLmhpbnQgPT09IHZvaWQgMCk7XG59XG5mdW5jdGlvbiBtYXBTb2NrZXRFcnJvcihlcnJvcikge1xuICBzd2l0Y2ggKGVycm9yLmNvZGUpIHtcbiAgICBjYXNlIFwiRU5PVEZPVU5EXCI6XG4gICAgY2FzZSBcIkVDT05OUkVGVVNFRFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJEYXRhYmFzZU5vdFJlYWNoYWJsZVwiLFxuICAgICAgICBob3N0OiBlcnJvci5hZGRyZXNzID8/IGVycm9yLmhvc3RuYW1lLFxuICAgICAgICBwb3J0OiBlcnJvci5wb3J0XG4gICAgICB9O1xuICAgIGNhc2UgXCJFQ09OTlJFU0VUXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIkNvbm5lY3Rpb25DbG9zZWRcIlxuICAgICAgfTtcbiAgICBjYXNlIFwiRVRJTUVET1VUXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIlNvY2tldFRpbWVvdXRcIlxuICAgICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gaXNTb2NrZXRFcnJvcihlcnJvcikge1xuICByZXR1cm4gdHlwZW9mIGVycm9yLmNvZGUgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGVycm9yLnN5c2NhbGwgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGVycm9yLmVycm5vID09PSBcIm51bWJlclwiICYmIFNPQ0tFVF9FUlJPUlMuaGFzKGVycm9yLmNvZGUpO1xufVxuZnVuY3Rpb24gaXNUbHNFcnJvcihlcnJvcikge1xuICBpZiAodHlwZW9mIGVycm9yLmNvZGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gVExTX0VSUk9SUy5oYXMoZXJyb3IuY29kZSk7XG4gIH1cbiAgc3dpdGNoIChlcnJvci5tZXNzYWdlKSB7XG4gICAgY2FzZSBcIlRoZSBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBTU0wgY29ubmVjdGlvbnNcIjpcbiAgICBjYXNlIFwiVGhlcmUgd2FzIGFuIGVycm9yIGVzdGFibGlzaGluZyBhbiBTU0wgY29ubmVjdGlvblwiOlxuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBzcmMvcGcudHNcbnZhciB0eXBlczIgPSBwZzIudHlwZXM7XG52YXIgZGVidWcgPSBEZWJ1ZyhcInByaXNtYTpkcml2ZXItYWRhcHRlcjpwZ1wiKTtcbnZhciBQZ1F1ZXJ5YWJsZSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBwZ09wdGlvbnMpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLnBnT3B0aW9ucyA9IHBnT3B0aW9ucztcbiAgfVxuICBwcm92aWRlciA9IFwicG9zdGdyZXNcIjtcbiAgYWRhcHRlck5hbWUgPSBuYW1lO1xuICAvKipcbiAgICogRXhlY3V0ZSBhIHF1ZXJ5IGdpdmVuIGFzIFNRTCwgaW50ZXJwb2xhdGluZyB0aGUgZ2l2ZW4gcGFyYW1ldGVycy5cbiAgICovXG4gIGFzeW5jIHF1ZXJ5UmF3KHF1ZXJ5KSB7XG4gICAgY29uc3QgdGFnID0gXCJbanM6OnF1ZXJ5X3Jhd11cIjtcbiAgICBkZWJ1ZyhgJHt0YWd9ICVPYCwgcXVlcnkpO1xuICAgIGNvbnN0IHsgZmllbGRzLCByb3dzIH0gPSBhd2FpdCB0aGlzLnBlcmZvcm1JTyhxdWVyeSk7XG4gICAgY29uc3QgY29sdW1uTmFtZXMgPSBmaWVsZHMubWFwKChmaWVsZCkgPT4gZmllbGQubmFtZSk7XG4gICAgbGV0IGNvbHVtblR5cGVzID0gW107XG4gICAgdHJ5IHtcbiAgICAgIGNvbHVtblR5cGVzID0gZmllbGRzLm1hcCgoZmllbGQpID0+IGZpZWxkVG9Db2x1bW5UeXBlKGZpZWxkLmRhdGFUeXBlSUQpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIFVuc3VwcG9ydGVkTmF0aXZlRGF0YVR5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IERyaXZlckFkYXB0ZXJFcnJvcih7XG4gICAgICAgICAga2luZDogXCJVbnN1cHBvcnRlZE5hdGl2ZURhdGFUeXBlXCIsXG4gICAgICAgICAgdHlwZTogZS50eXBlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgY29uc3QgdWR0UGFyc2VyID0gdGhpcy5wZ09wdGlvbnM/LnVzZXJEZWZpbmVkVHlwZVBhcnNlcjtcbiAgICBpZiAodWR0UGFyc2VyKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICAgICAgaWYgKGZpZWxkLmRhdGFUeXBlSUQgPj0gRklSU1RfTk9STUFMX09CSkVDVF9JRCAmJiAhT2JqZWN0Lmhhc093bihjdXN0b21QYXJzZXJzLCBmaWVsZC5kYXRhVHlwZUlEKSkge1xuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcm93cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgcm93c1tqXVtpXSA9IGF3YWl0IHVkdFBhcnNlcihmaWVsZC5kYXRhVHlwZUlELCByb3dzW2pdW2ldLCB0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbHVtbk5hbWVzLFxuICAgICAgY29sdW1uVHlwZXMsXG4gICAgICByb3dzXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBhIHF1ZXJ5IGdpdmVuIGFzIFNRTCwgaW50ZXJwb2xhdGluZyB0aGUgZ2l2ZW4gcGFyYW1ldGVycyBhbmRcbiAgICogcmV0dXJuaW5nIHRoZSBudW1iZXIgb2YgYWZmZWN0ZWQgcm93cy5cbiAgICogTm90ZTogUXVlcnlhYmxlIGV4cGVjdHMgYSB1NjQsIGJ1dCBuYXBpLnJzIG9ubHkgc3VwcG9ydHMgdTMyLlxuICAgKi9cbiAgYXN5bmMgZXhlY3V0ZVJhdyhxdWVyeSkge1xuICAgIGNvbnN0IHRhZyA9IFwiW2pzOjpleGVjdXRlX3Jhd11cIjtcbiAgICBkZWJ1ZyhgJHt0YWd9ICVPYCwgcXVlcnkpO1xuICAgIHJldHVybiAoYXdhaXQgdGhpcy5wZXJmb3JtSU8ocXVlcnkpKS5yb3dDb3VudCA/PyAwO1xuICB9XG4gIC8qKlxuICAgKiBSdW4gYSBxdWVyeSBhZ2FpbnN0IHRoZSBkYXRhYmFzZSwgcmV0dXJuaW5nIHRoZSByZXN1bHQgc2V0LlxuICAgKiBTaG91bGQgdGhlIHF1ZXJ5IGZhaWwgZHVlIHRvIGEgY29ubmVjdGlvbiBlcnJvciwgdGhlIGNvbm5lY3Rpb24gaXNcbiAgICogbWFya2VkIGFzIHVuaGVhbHRoeS5cbiAgICovXG4gIGFzeW5jIHBlcmZvcm1JTyhxdWVyeSkge1xuICAgIGNvbnN0IHsgc3FsLCBhcmdzIH0gPSBxdWVyeTtcbiAgICBjb25zdCB2YWx1ZXMgPSBhcmdzLm1hcCgoYXJnLCBpKSA9PiBtYXBBcmcoYXJnLCBxdWVyeS5hcmdUeXBlc1tpXSkpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5xdWVyeShcbiAgICAgICAge1xuICAgICAgICAgIHRleHQ6IHNxbCxcbiAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgcm93TW9kZTogXCJhcnJheVwiLFxuICAgICAgICAgIHR5cGVzOiB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBlcnJvciBleHBlY3RlZDpcbiAgICAgICAgICAgIC8vIE5vIG92ZXJsb2FkIG1hdGNoZXMgdGhpcyBjYWxsLlxuICAgICAgICAgICAgLy8gVGhlIGxhc3Qgb3ZlcmxvYWQgZ2F2ZSB0aGUgZm9sbG93aW5nIGVycm9yLlxuICAgICAgICAgICAgLy8gVHlwZSAnKG9pZDogbnVtYmVyLCBmb3JtYXQ/OiBhbnkpID0+IChqc29uOiBzdHJpbmcpID0+IHVua25vd24nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ3sgPFQ+KG9pZDogbnVtYmVyKTogVHlwZVBhcnNlcjxzdHJpbmcsIHN0cmluZyB8IFQ+OyA8VD4ob2lkOiBudW1iZXIsIGZvcm1hdDogXCJ0ZXh0XCIpOiBUeXBlUGFyc2VyPHN0cmluZywgc3RyaW5nIHwgVD47IDxUPihvaWQ6IG51bWJlciwgZm9ybWF0OiBcImJpbmFyeVwiKTogVHlwZVBhcnNlcjwuLi4+OyB9Jy5cbiAgICAgICAgICAgIC8vICAgVHlwZSAnKGpzb246IHN0cmluZykgPT4gdW5rbm93bicgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAnVHlwZVBhcnNlcjxCdWZmZXIsIGFueT4nLlxuICAgICAgICAgICAgLy8gICAgIFR5cGVzIG9mIHBhcmFtZXRlcnMgJ2pzb24nIGFuZCAndmFsdWUnIGFyZSBpbmNvbXBhdGlibGUuXG4gICAgICAgICAgICAvLyAgICAgICBUeXBlICdCdWZmZXInIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ3N0cmluZycudHMoMjc2OSlcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBCZWNhdXNlIHBnLXR5cGVzIHR5cGVzIGV4cGVjdCB1cyB0byBoYW5kbGUgYm90aCBiaW5hcnkgYW5kIHRleHQgcHJvdG9jb2wgdmVyc2lvbnMsXG4gICAgICAgICAgICAvLyB3aGVyZSBhcyBmYXIgd2UgY2FuIHNlZSwgcGcgd2lsbCBldmVyIHBhc3Mgb25seSB0ZXh0IHZlcnNpb24uXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgZ2V0VHlwZVBhcnNlcjogKG9pZCwgZm9ybWF0KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChmb3JtYXQgPT09IFwidGV4dFwiICYmIGN1c3RvbVBhcnNlcnNbb2lkXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXN0b21QYXJzZXJzW29pZF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzMi5nZXRUeXBlUGFyc2VyKG9pZCwgZm9ybWF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlc1xuICAgICAgKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5vbkVycm9yKGUpO1xuICAgIH1cbiAgfVxuICBvbkVycm9yKGVycm9yKSB7XG4gICAgZGVidWcoXCJFcnJvciBpbiBwZXJmb3JtSU86ICVPXCIsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRHJpdmVyQWRhcHRlckVycm9yKGNvbnZlcnREcml2ZXJFcnJvcihlcnJvcikpO1xuICB9XG59O1xudmFyIFBnVHJhbnNhY3Rpb24gPSBjbGFzcyBleHRlbmRzIFBnUXVlcnlhYmxlIHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBvcHRpb25zLCBwZ09wdGlvbnMsIGNsZWFudXApIHtcbiAgICBzdXBlcihjbGllbnQsIHBnT3B0aW9ucyk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnBnT3B0aW9ucyA9IHBnT3B0aW9ucztcbiAgICB0aGlzLmNsZWFudXAgPSBjbGVhbnVwO1xuICB9XG4gIGFzeW5jIGNvbW1pdCgpIHtcbiAgICBkZWJ1ZyhgW2pzOjpjb21taXRdYCk7XG4gICAgdGhpcy5jbGVhbnVwPy4oKTtcbiAgICB0aGlzLmNsaWVudC5yZWxlYXNlKCk7XG4gIH1cbiAgYXN5bmMgcm9sbGJhY2soKSB7XG4gICAgZGVidWcoYFtqczo6cm9sbGJhY2tdYCk7XG4gICAgdGhpcy5jbGVhbnVwPy4oKTtcbiAgICB0aGlzLmNsaWVudC5yZWxlYXNlKCk7XG4gIH1cbn07XG52YXIgUHJpc21hUGdBZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBQZ1F1ZXJ5YWJsZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgcGdPcHRpb25zLCByZWxlYXNlKSB7XG4gICAgc3VwZXIoY2xpZW50KTtcbiAgICB0aGlzLnBnT3B0aW9ucyA9IHBnT3B0aW9ucztcbiAgICB0aGlzLnJlbGVhc2UgPSByZWxlYXNlO1xuICB9XG4gIGFzeW5jIHN0YXJ0VHJhbnNhY3Rpb24oaXNvbGF0aW9uTGV2ZWwpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgdXNlUGhhbnRvbVF1ZXJ5OiBmYWxzZVxuICAgIH07XG4gICAgY29uc3QgdGFnID0gXCJbanM6OnN0YXJ0VHJhbnNhY3Rpb25dXCI7XG4gICAgZGVidWcoXCIlcyBvcHRpb25zOiAlT1wiLCB0YWcsIG9wdGlvbnMpO1xuICAgIGNvbnN0IGNvbm4gPSBhd2FpdCB0aGlzLmNsaWVudC5jb25uZWN0KCkuY2F0Y2goKGVycm9yKSA9PiB0aGlzLm9uRXJyb3IoZXJyb3IpKTtcbiAgICBjb25zdCBvbkVycm9yID0gKGVycikgPT4ge1xuICAgICAgZGVidWcoYEVycm9yIGZyb20gcG9vbCBjb25uZWN0aW9uOiAke2Vyci5tZXNzYWdlfSAlT2AsIGVycik7XG4gICAgICB0aGlzLnBnT3B0aW9ucz8ub25Db25uZWN0aW9uRXJyb3I/LihlcnIpO1xuICAgIH07XG4gICAgY29ubi5vbihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICBjb25uLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgb25FcnJvcik7XG4gICAgfTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdHggPSBuZXcgUGdUcmFuc2FjdGlvbihjb25uLCBvcHRpb25zLCB0aGlzLnBnT3B0aW9ucywgY2xlYW51cCk7XG4gICAgICBhd2FpdCB0eC5leGVjdXRlUmF3KHsgc3FsOiBcIkJFR0lOXCIsIGFyZ3M6IFtdLCBhcmdUeXBlczogW10gfSk7XG4gICAgICBpZiAoaXNvbGF0aW9uTGV2ZWwpIHtcbiAgICAgICAgYXdhaXQgdHguZXhlY3V0ZVJhdyh7XG4gICAgICAgICAgc3FsOiBgU0VUIFRSQU5TQUNUSU9OIElTT0xBVElPTiBMRVZFTCAke2lzb2xhdGlvbkxldmVsfWAsXG4gICAgICAgICAgYXJnczogW10sXG4gICAgICAgICAgYXJnVHlwZXM6IFtdXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHR4O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICBjb25uLnJlbGVhc2UoZXJyb3IpO1xuICAgICAgdGhpcy5vbkVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZXhlY3V0ZVNjcmlwdChzY3JpcHQpIHtcbiAgICBjb25zdCBzdGF0ZW1lbnRzID0gc2NyaXB0LnNwbGl0KFwiO1wiKS5tYXAoKHN0bXQpID0+IHN0bXQudHJpbSgpKS5maWx0ZXIoKHN0bXQpID0+IHN0bXQubGVuZ3RoID4gMCk7XG4gICAgZm9yIChjb25zdCBzdG10IG9mIHN0YXRlbWVudHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2xpZW50LnF1ZXJ5KHN0bXQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5vbkVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ2V0Q29ubmVjdGlvbkluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjaGVtYU5hbWU6IHRoaXMucGdPcHRpb25zPy5zY2hlbWEsXG4gICAgICBzdXBwb3J0c1JlbGF0aW9uSm9pbnM6IHRydWVcbiAgICB9O1xuICB9XG4gIGFzeW5jIGRpc3Bvc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVsZWFzZT8uKCk7XG4gIH1cbiAgdW5kZXJseWluZ0RyaXZlcigpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQ7XG4gIH1cbn07XG52YXIgUHJpc21hUGdBZGFwdGVyRmFjdG9yeSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocG9vbE9yQ29uZmlnLCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICBpZiAocG9vbE9yQ29uZmlnIGluc3RhbmNlb2YgcGcyLlBvb2wpIHtcbiAgICAgIHRoaXMuZXh0ZXJuYWxQb29sID0gcG9vbE9yQ29uZmlnO1xuICAgICAgdGhpcy5jb25maWcgPSBwb29sT3JDb25maWcub3B0aW9ucztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5leHRlcm5hbFBvb2wgPSBudWxsO1xuICAgICAgdGhpcy5jb25maWcgPSBwb29sT3JDb25maWc7XG4gICAgfVxuICB9XG4gIHByb3ZpZGVyID0gXCJwb3N0Z3Jlc1wiO1xuICBhZGFwdGVyTmFtZSA9IG5hbWU7XG4gIGNvbmZpZztcbiAgZXh0ZXJuYWxQb29sO1xuICBhc3luYyBjb25uZWN0KCkge1xuICAgIGNvbnN0IGNsaWVudCA9IHRoaXMuZXh0ZXJuYWxQb29sID8/IG5ldyBwZzIuUG9vbCh0aGlzLmNvbmZpZyk7XG4gICAgY29uc3Qgb25JZGxlQ2xpZW50RXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICBkZWJ1ZyhgRXJyb3IgZnJvbSBpZGxlIHBvb2wgY2xpZW50OiAke2Vyci5tZXNzYWdlfSAlT2AsIGVycik7XG4gICAgICB0aGlzLm9wdGlvbnM/Lm9uUG9vbEVycm9yPy4oZXJyKTtcbiAgICB9O1xuICAgIGNsaWVudC5vbihcImVycm9yXCIsIG9uSWRsZUNsaWVudEVycm9yKTtcbiAgICByZXR1cm4gbmV3IFByaXNtYVBnQWRhcHRlcihjbGllbnQsIHRoaXMub3B0aW9ucywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZXh0ZXJuYWxQb29sKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnM/LmRpc3Bvc2VFeHRlcm5hbFBvb2wpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmV4dGVybmFsUG9vbC5lbmQoKTtcbiAgICAgICAgICB0aGlzLmV4dGVybmFsUG9vbCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5leHRlcm5hbFBvb2wucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLCBvbklkbGVDbGllbnRFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IGNsaWVudC5lbmQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBhc3luYyBjb25uZWN0VG9TaGFkb3dEYigpIHtcbiAgICBjb25zdCBjb25uID0gYXdhaXQgdGhpcy5jb25uZWN0KCk7XG4gICAgY29uc3QgZGF0YWJhc2UgPSBgcHJpc21hX21pZ3JhdGVfc2hhZG93X2RiXyR7Z2xvYmFsVGhpcy5jcnlwdG8ucmFuZG9tVVVJRCgpfWA7XG4gICAgYXdhaXQgY29ubi5leGVjdXRlU2NyaXB0KGBDUkVBVEUgREFUQUJBU0UgXCIke2RhdGFiYXNlfVwiYCk7XG4gICAgY29uc3QgY2xpZW50ID0gbmV3IHBnMi5Qb29sKHsgLi4udGhpcy5jb25maWcsIGRhdGFiYXNlIH0pO1xuICAgIHJldHVybiBuZXcgUHJpc21hUGdBZGFwdGVyKGNsaWVudCwgdm9pZCAwLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBjb25uLmV4ZWN1dGVTY3JpcHQoYERST1AgREFUQUJBU0UgXCIke2RhdGFiYXNlfVwiYCk7XG4gICAgICBhd2FpdCBjbGllbnQuZW5kKCk7XG4gICAgfSk7XG4gIH1cbn07XG5leHBvcnQge1xuICBQcmlzbWFQZ0FkYXB0ZXJGYWN0b3J5IGFzIFByaXNtYVBnXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/../../node_modules/.pnpm/@prisma+adapter-pg@7.1.0/node_modules/@prisma/adapter-pg/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@prisma+adapter-pg@7.1.0/node_modules/@prisma/adapter-pg/dist/index.mjs":
/*!********************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@prisma+adapter-pg@7.1.0/node_modules/@prisma/adapter-pg/dist/index.mjs ***!
  \********************************************************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PrismaPg: () => (/* binding */ PrismaPgAdapterFactory)\n/* harmony export */ });\n/* harmony import */ var _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @prisma/driver-adapter-utils */ \"(rsc)/../../node_modules/.pnpm/@prisma+debug@7.1.0/node_modules/@prisma/debug/dist/index.mjs\");\n/* harmony import */ var _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @prisma/driver-adapter-utils */ \"(rsc)/../../node_modules/.pnpm/@prisma+driver-adapter-utils@7.1.0/node_modules/@prisma/driver-adapter-utils/dist/index.mjs\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var postgres_array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! postgres-array */ \"(rsc)/../../node_modules/.pnpm/postgres-array@3.0.4/node_modules/postgres-array/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// src/pg.ts\n\n\n\n// package.json\nvar name = \"@prisma/adapter-pg\";\n\n// src/constants.ts\nvar FIRST_NORMAL_OBJECT_ID = 16384;\n\n// src/conversion.ts\n\n\n\nvar { types } = pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nvar { builtins: ScalarColumnType, getTypeParser } = types;\nvar AdditionalScalarColumnType = {\n  NAME: 19\n};\nvar ArrayColumnType = {\n  BIT_ARRAY: 1561,\n  BOOL_ARRAY: 1e3,\n  BYTEA_ARRAY: 1001,\n  BPCHAR_ARRAY: 1014,\n  CHAR_ARRAY: 1002,\n  CIDR_ARRAY: 651,\n  DATE_ARRAY: 1182,\n  FLOAT4_ARRAY: 1021,\n  FLOAT8_ARRAY: 1022,\n  INET_ARRAY: 1041,\n  INT2_ARRAY: 1005,\n  INT4_ARRAY: 1007,\n  INT8_ARRAY: 1016,\n  JSONB_ARRAY: 3807,\n  JSON_ARRAY: 199,\n  MONEY_ARRAY: 791,\n  NUMERIC_ARRAY: 1231,\n  OID_ARRAY: 1028,\n  TEXT_ARRAY: 1009,\n  TIMESTAMP_ARRAY: 1115,\n  TIMESTAMPTZ_ARRAY: 1185,\n  TIME_ARRAY: 1183,\n  UUID_ARRAY: 2951,\n  VARBIT_ARRAY: 1563,\n  VARCHAR_ARRAY: 1015,\n  XML_ARRAY: 143\n};\nvar UnsupportedNativeDataType = class _UnsupportedNativeDataType extends Error {\n  // map of type codes to type names\n  static typeNames = {\n    16: \"bool\",\n    17: \"bytea\",\n    18: \"char\",\n    19: \"name\",\n    20: \"int8\",\n    21: \"int2\",\n    22: \"int2vector\",\n    23: \"int4\",\n    24: \"regproc\",\n    25: \"text\",\n    26: \"oid\",\n    27: \"tid\",\n    28: \"xid\",\n    29: \"cid\",\n    30: \"oidvector\",\n    32: \"pg_ddl_command\",\n    71: \"pg_type\",\n    75: \"pg_attribute\",\n    81: \"pg_proc\",\n    83: \"pg_class\",\n    114: \"json\",\n    142: \"xml\",\n    194: \"pg_node_tree\",\n    269: \"table_am_handler\",\n    325: \"index_am_handler\",\n    600: \"point\",\n    601: \"lseg\",\n    602: \"path\",\n    603: \"box\",\n    604: \"polygon\",\n    628: \"line\",\n    650: \"cidr\",\n    700: \"float4\",\n    701: \"float8\",\n    705: \"unknown\",\n    718: \"circle\",\n    774: \"macaddr8\",\n    790: \"money\",\n    829: \"macaddr\",\n    869: \"inet\",\n    1033: \"aclitem\",\n    1042: \"bpchar\",\n    1043: \"varchar\",\n    1082: \"date\",\n    1083: \"time\",\n    1114: \"timestamp\",\n    1184: \"timestamptz\",\n    1186: \"interval\",\n    1266: \"timetz\",\n    1560: \"bit\",\n    1562: \"varbit\",\n    1700: \"numeric\",\n    1790: \"refcursor\",\n    2202: \"regprocedure\",\n    2203: \"regoper\",\n    2204: \"regoperator\",\n    2205: \"regclass\",\n    2206: \"regtype\",\n    2249: \"record\",\n    2275: \"cstring\",\n    2276: \"any\",\n    2277: \"anyarray\",\n    2278: \"void\",\n    2279: \"trigger\",\n    2280: \"language_handler\",\n    2281: \"internal\",\n    2283: \"anyelement\",\n    2287: \"_record\",\n    2776: \"anynonarray\",\n    2950: \"uuid\",\n    2970: \"txid_snapshot\",\n    3115: \"fdw_handler\",\n    3220: \"pg_lsn\",\n    3310: \"tsm_handler\",\n    3361: \"pg_ndistinct\",\n    3402: \"pg_dependencies\",\n    3500: \"anyenum\",\n    3614: \"tsvector\",\n    3615: \"tsquery\",\n    3642: \"gtsvector\",\n    3734: \"regconfig\",\n    3769: \"regdictionary\",\n    3802: \"jsonb\",\n    3831: \"anyrange\",\n    3838: \"event_trigger\",\n    3904: \"int4range\",\n    3906: \"numrange\",\n    3908: \"tsrange\",\n    3910: \"tstzrange\",\n    3912: \"daterange\",\n    3926: \"int8range\",\n    4072: \"jsonpath\",\n    4089: \"regnamespace\",\n    4096: \"regrole\",\n    4191: \"regcollation\",\n    4451: \"int4multirange\",\n    4532: \"nummultirange\",\n    4533: \"tsmultirange\",\n    4534: \"tstzmultirange\",\n    4535: \"datemultirange\",\n    4536: \"int8multirange\",\n    4537: \"anymultirange\",\n    4538: \"anycompatiblemultirange\",\n    4600: \"pg_brin_bloom_summary\",\n    4601: \"pg_brin_minmax_multi_summary\",\n    5017: \"pg_mcv_list\",\n    5038: \"pg_snapshot\",\n    5069: \"xid8\",\n    5077: \"anycompatible\",\n    5078: \"anycompatiblearray\",\n    5079: \"anycompatiblenonarray\",\n    5080: \"anycompatiblerange\"\n  };\n  type;\n  constructor(code) {\n    super();\n    this.type = _UnsupportedNativeDataType.typeNames[code] || \"Unknown\";\n    this.message = `Unsupported column type ${this.type}`;\n  }\n};\nfunction fieldToColumnType(fieldTypeId) {\n  switch (fieldTypeId) {\n    case ScalarColumnType.INT2:\n    case ScalarColumnType.INT4:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int32;\n    case ScalarColumnType.INT8:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int64;\n    case ScalarColumnType.FLOAT4:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Float;\n    case ScalarColumnType.FLOAT8:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Double;\n    case ScalarColumnType.BOOL:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Boolean;\n    case ScalarColumnType.DATE:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Date;\n    case ScalarColumnType.TIME:\n    case ScalarColumnType.TIMETZ:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Time;\n    case ScalarColumnType.TIMESTAMP:\n    case ScalarColumnType.TIMESTAMPTZ:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DateTime;\n    case ScalarColumnType.NUMERIC:\n    case ScalarColumnType.MONEY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Numeric;\n    case ScalarColumnType.JSON:\n    case ScalarColumnType.JSONB:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Json;\n    case ScalarColumnType.UUID:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Uuid;\n    case ScalarColumnType.OID:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int64;\n    case ScalarColumnType.BPCHAR:\n    case ScalarColumnType.TEXT:\n    case ScalarColumnType.VARCHAR:\n    case ScalarColumnType.BIT:\n    case ScalarColumnType.VARBIT:\n    case ScalarColumnType.INET:\n    case ScalarColumnType.CIDR:\n    case ScalarColumnType.XML:\n    case AdditionalScalarColumnType.NAME:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Text;\n    case ScalarColumnType.BYTEA:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Bytes;\n    case ArrayColumnType.INT2_ARRAY:\n    case ArrayColumnType.INT4_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int32Array;\n    case ArrayColumnType.FLOAT4_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.FloatArray;\n    case ArrayColumnType.FLOAT8_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DoubleArray;\n    case ArrayColumnType.NUMERIC_ARRAY:\n    case ArrayColumnType.MONEY_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.NumericArray;\n    case ArrayColumnType.BOOL_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.BooleanArray;\n    case ArrayColumnType.CHAR_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.CharacterArray;\n    case ArrayColumnType.BPCHAR_ARRAY:\n    case ArrayColumnType.TEXT_ARRAY:\n    case ArrayColumnType.VARCHAR_ARRAY:\n    case ArrayColumnType.VARBIT_ARRAY:\n    case ArrayColumnType.BIT_ARRAY:\n    case ArrayColumnType.INET_ARRAY:\n    case ArrayColumnType.CIDR_ARRAY:\n    case ArrayColumnType.XML_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.TextArray;\n    case ArrayColumnType.DATE_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DateArray;\n    case ArrayColumnType.TIME_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.TimeArray;\n    case ArrayColumnType.TIMESTAMP_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DateTimeArray;\n    case ArrayColumnType.TIMESTAMPTZ_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.DateTimeArray;\n    case ArrayColumnType.JSON_ARRAY:\n    case ArrayColumnType.JSONB_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.JsonArray;\n    case ArrayColumnType.BYTEA_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.BytesArray;\n    case ArrayColumnType.UUID_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.UuidArray;\n    case ArrayColumnType.INT8_ARRAY:\n    case ArrayColumnType.OID_ARRAY:\n      return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Int64Array;\n    default:\n      if (fieldTypeId >= FIRST_NORMAL_OBJECT_ID) {\n        return _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.ColumnTypeEnum.Text;\n      }\n      throw new UnsupportedNativeDataType(fieldTypeId);\n  }\n}\nfunction normalize_array(element_normalizer) {\n  return (str) => (0,postgres_array__WEBPACK_IMPORTED_MODULE_1__.parse)(str, element_normalizer);\n}\nfunction normalize_numeric(numeric) {\n  return numeric;\n}\nfunction normalize_date(date) {\n  return date;\n}\nfunction normalize_timestamp(time) {\n  return `${time.replace(\" \", \"T\")}+00:00`;\n}\nfunction normalize_timestamptz(time) {\n  return time.replace(\" \", \"T\").replace(/[+-]\\d{2}(:\\d{2})?$/, \"+00:00\");\n}\nfunction normalize_time(time) {\n  return time;\n}\nfunction normalize_timez(time) {\n  return time.replace(/[+-]\\d{2}(:\\d{2})?$/, \"\");\n}\nfunction normalize_money(money) {\n  return money.slice(1);\n}\nfunction normalize_xml(xml) {\n  return xml;\n}\nfunction toJson(json) {\n  return json;\n}\nfunction encodeBuffer(buffer) {\n  return Array.from(new Uint8Array(buffer));\n}\nvar parsePgBytes = getTypeParser(ScalarColumnType.BYTEA);\nvar parseBytesArray = getTypeParser(ArrayColumnType.BYTEA_ARRAY);\nfunction normalizeByteaArray(serializedBytesArray) {\n  const buffers = parseBytesArray(serializedBytesArray);\n  return buffers.map((buf) => buf ? encodeBuffer(buf) : null);\n}\nfunction convertBytes(serializedBytes) {\n  const buffer = parsePgBytes(serializedBytes);\n  return encodeBuffer(buffer);\n}\nfunction normalizeBit(bit) {\n  return bit;\n}\nvar customParsers = {\n  [ScalarColumnType.NUMERIC]: normalize_numeric,\n  [ArrayColumnType.NUMERIC_ARRAY]: normalize_array(normalize_numeric),\n  [ScalarColumnType.TIME]: normalize_time,\n  [ArrayColumnType.TIME_ARRAY]: normalize_array(normalize_time),\n  [ScalarColumnType.TIMETZ]: normalize_timez,\n  [ScalarColumnType.DATE]: normalize_date,\n  [ArrayColumnType.DATE_ARRAY]: normalize_array(normalize_date),\n  [ScalarColumnType.TIMESTAMP]: normalize_timestamp,\n  [ArrayColumnType.TIMESTAMP_ARRAY]: normalize_array(normalize_timestamp),\n  [ScalarColumnType.TIMESTAMPTZ]: normalize_timestamptz,\n  [ArrayColumnType.TIMESTAMPTZ_ARRAY]: normalize_array(normalize_timestamptz),\n  [ScalarColumnType.MONEY]: normalize_money,\n  [ArrayColumnType.MONEY_ARRAY]: normalize_array(normalize_money),\n  [ScalarColumnType.JSON]: toJson,\n  [ArrayColumnType.JSON_ARRAY]: normalize_array(toJson),\n  [ScalarColumnType.JSONB]: toJson,\n  [ArrayColumnType.JSONB_ARRAY]: normalize_array(toJson),\n  [ScalarColumnType.BYTEA]: convertBytes,\n  [ArrayColumnType.BYTEA_ARRAY]: normalizeByteaArray,\n  [ArrayColumnType.BIT_ARRAY]: normalize_array(normalizeBit),\n  [ArrayColumnType.VARBIT_ARRAY]: normalize_array(normalizeBit),\n  [ArrayColumnType.XML_ARRAY]: normalize_array(normalize_xml)\n};\nfunction mapArg(arg, argType) {\n  if (arg === null) {\n    return null;\n  }\n  if (Array.isArray(arg) && argType.arity === \"list\") {\n    return arg.map((value) => mapArg(value, argType));\n  }\n  if (typeof arg === \"string\" && argType.scalarType === \"datetime\") {\n    arg = new Date(arg);\n  }\n  if (arg instanceof Date) {\n    switch (argType.dbType) {\n      case \"TIME\":\n      case \"TIMETZ\":\n        return formatTime(arg);\n      case \"DATE\":\n        return formatDate(arg);\n      default:\n        return formatDateTime(arg);\n    }\n  }\n  if (typeof arg === \"string\" && argType.scalarType === \"bytes\") {\n    return Buffer.from(arg, \"base64\");\n  }\n  if (Array.isArray(arg) && argType.scalarType === \"bytes\") {\n    return Buffer.from(arg);\n  }\n  if (ArrayBuffer.isView(arg)) {\n    return Buffer.from(arg.buffer, arg.byteOffset, arg.byteLength);\n  }\n  return arg;\n}\nfunction formatDateTime(date) {\n  const pad = (n, z = 2) => String(n).padStart(z, \"0\");\n  const ms = date.getUTCMilliseconds();\n  return pad(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1) + \"-\" + pad(date.getUTCDate()) + \" \" + pad(date.getUTCHours()) + \":\" + pad(date.getUTCMinutes()) + \":\" + pad(date.getUTCSeconds()) + (ms ? \".\" + String(ms).padStart(3, \"0\") : \"\");\n}\nfunction formatDate(date) {\n  const pad = (n, z = 2) => String(n).padStart(z, \"0\");\n  return pad(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1) + \"-\" + pad(date.getUTCDate());\n}\nfunction formatTime(date) {\n  const pad = (n, z = 2) => String(n).padStart(z, \"0\");\n  const ms = date.getUTCMilliseconds();\n  return pad(date.getUTCHours()) + \":\" + pad(date.getUTCMinutes()) + \":\" + pad(date.getUTCSeconds()) + (ms ? \".\" + String(ms).padStart(3, \"0\") : \"\");\n}\n\n// src/errors.ts\nvar TLS_ERRORS = /* @__PURE__ */ new Set([\n  \"UNABLE_TO_GET_ISSUER_CERT\",\n  \"UNABLE_TO_GET_CRL\",\n  \"UNABLE_TO_DECRYPT_CERT_SIGNATURE\",\n  \"UNABLE_TO_DECRYPT_CRL_SIGNATURE\",\n  \"UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY\",\n  \"CERT_SIGNATURE_FAILURE\",\n  \"CRL_SIGNATURE_FAILURE\",\n  \"CERT_NOT_YET_VALID\",\n  \"CERT_HAS_EXPIRED\",\n  \"CRL_NOT_YET_VALID\",\n  \"CRL_HAS_EXPIRED\",\n  \"ERROR_IN_CERT_NOT_BEFORE_FIELD\",\n  \"ERROR_IN_CERT_NOT_AFTER_FIELD\",\n  \"ERROR_IN_CRL_LAST_UPDATE_FIELD\",\n  \"ERROR_IN_CRL_NEXT_UPDATE_FIELD\",\n  \"DEPTH_ZERO_SELF_SIGNED_CERT\",\n  \"SELF_SIGNED_CERT_IN_CHAIN\",\n  \"UNABLE_TO_GET_ISSUER_CERT_LOCALLY\",\n  \"UNABLE_TO_VERIFY_LEAF_SIGNATURE\",\n  \"CERT_CHAIN_TOO_LONG\",\n  \"CERT_REVOKED\",\n  \"INVALID_CA\",\n  \"INVALID_PURPOSE\",\n  \"CERT_UNTRUSTED\",\n  \"CERT_REJECTED\",\n  \"HOSTNAME_MISMATCH\",\n  \"ERR_TLS_CERT_ALTNAME_FORMAT\",\n  \"ERR_TLS_CERT_ALTNAME_INVALID\"\n]);\nvar SOCKET_ERRORS = /* @__PURE__ */ new Set([\"ENOTFOUND\", \"ECONNREFUSED\", \"ECONNRESET\", \"ETIMEDOUT\"]);\nfunction convertDriverError(error) {\n  if (isSocketError(error)) {\n    return mapSocketError(error);\n  }\n  if (isTlsError(error)) {\n    return {\n      kind: \"TlsConnectionError\",\n      reason: error.message\n    };\n  }\n  if (isDriverError(error)) {\n    return {\n      originalCode: error.code,\n      originalMessage: error.message,\n      ...mapDriverError(error)\n    };\n  }\n  throw error;\n}\nfunction mapDriverError(error) {\n  switch (error.code) {\n    case \"22001\":\n      return {\n        kind: \"LengthMismatch\",\n        column: error.column\n      };\n    case \"22003\":\n      return {\n        kind: \"ValueOutOfRange\",\n        cause: error.message\n      };\n    case \"23505\": {\n      const fields = error.detail?.match(/Key \\(([^)]+)\\)/)?.at(1)?.split(\", \");\n      return {\n        kind: \"UniqueConstraintViolation\",\n        constraint: fields !== void 0 ? { fields } : void 0\n      };\n    }\n    case \"23502\": {\n      const fields = error.detail?.match(/Key \\(([^)]+)\\)/)?.at(1)?.split(\", \");\n      return {\n        kind: \"NullConstraintViolation\",\n        constraint: fields !== void 0 ? { fields } : void 0\n      };\n    }\n    case \"23503\": {\n      let constraint;\n      if (error.column) {\n        constraint = { fields: [error.column] };\n      } else if (error.constraint) {\n        constraint = { index: error.constraint };\n      }\n      return {\n        kind: \"ForeignKeyConstraintViolation\",\n        constraint\n      };\n    }\n    case \"3D000\":\n      return {\n        kind: \"DatabaseDoesNotExist\",\n        db: error.message.split(\" \").at(1)?.split('\"').at(1)\n      };\n    case \"28000\":\n      return {\n        kind: \"DatabaseAccessDenied\",\n        db: error.message.split(\",\").find((s) => s.startsWith(\" database\"))?.split('\"').at(1)\n      };\n    case \"28P01\":\n      return {\n        kind: \"AuthenticationFailed\",\n        user: error.message.split(\" \").pop()?.split('\"').at(1)\n      };\n    case \"40001\":\n      return {\n        kind: \"TransactionWriteConflict\"\n      };\n    case \"42P01\":\n      return {\n        kind: \"TableDoesNotExist\",\n        table: error.message.split(\" \").at(1)?.split('\"').at(1)\n      };\n    case \"42703\":\n      return {\n        kind: \"ColumnNotFound\",\n        column: error.message.split(\" \").at(1)?.split('\"').at(1)\n      };\n    case \"42P04\":\n      return {\n        kind: \"DatabaseAlreadyExists\",\n        db: error.message.split(\" \").at(1)?.split('\"').at(1)\n      };\n    case \"53300\":\n      return {\n        kind: \"TooManyConnections\",\n        cause: error.message\n      };\n    default:\n      return {\n        kind: \"postgres\",\n        code: error.code ?? \"N/A\",\n        severity: error.severity ?? \"N/A\",\n        message: error.message,\n        detail: error.detail,\n        column: error.column,\n        hint: error.hint\n      };\n  }\n}\nfunction isDriverError(error) {\n  return typeof error.code === \"string\" && typeof error.message === \"string\" && typeof error.severity === \"string\" && (typeof error.detail === \"string\" || error.detail === void 0) && (typeof error.column === \"string\" || error.column === void 0) && (typeof error.hint === \"string\" || error.hint === void 0);\n}\nfunction mapSocketError(error) {\n  switch (error.code) {\n    case \"ENOTFOUND\":\n    case \"ECONNREFUSED\":\n      return {\n        kind: \"DatabaseNotReachable\",\n        host: error.address ?? error.hostname,\n        port: error.port\n      };\n    case \"ECONNRESET\":\n      return {\n        kind: \"ConnectionClosed\"\n      };\n    case \"ETIMEDOUT\":\n      return {\n        kind: \"SocketTimeout\"\n      };\n  }\n}\nfunction isSocketError(error) {\n  return typeof error.code === \"string\" && typeof error.syscall === \"string\" && typeof error.errno === \"number\" && SOCKET_ERRORS.has(error.code);\n}\nfunction isTlsError(error) {\n  if (typeof error.code === \"string\") {\n    return TLS_ERRORS.has(error.code);\n  }\n  switch (error.message) {\n    case \"The server does not support SSL connections\":\n    case \"There was an error establishing an SSL connection\":\n      return true;\n  }\n  return false;\n}\n\n// src/pg.ts\nvar types2 = pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].types;\nvar debug = (0,_prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_3__.Debug)(\"prisma:driver-adapter:pg\");\nvar PgQueryable = class {\n  constructor(client, pgOptions) {\n    this.client = client;\n    this.pgOptions = pgOptions;\n  }\n  provider = \"postgres\";\n  adapterName = name;\n  /**\n   * Execute a query given as SQL, interpolating the given parameters.\n   */\n  async queryRaw(query) {\n    const tag = \"[js::query_raw]\";\n    debug(`${tag} %O`, query);\n    const { fields, rows } = await this.performIO(query);\n    const columnNames = fields.map((field) => field.name);\n    let columnTypes = [];\n    try {\n      columnTypes = fields.map((field) => fieldToColumnType(field.dataTypeID));\n    } catch (e) {\n      if (e instanceof UnsupportedNativeDataType) {\n        throw new _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.DriverAdapterError({\n          kind: \"UnsupportedNativeDataType\",\n          type: e.type\n        });\n      }\n      throw e;\n    }\n    const udtParser = this.pgOptions?.userDefinedTypeParser;\n    if (udtParser) {\n      for (let i = 0; i < fields.length; i++) {\n        const field = fields[i];\n        if (field.dataTypeID >= FIRST_NORMAL_OBJECT_ID && !Object.hasOwn(customParsers, field.dataTypeID)) {\n          for (let j = 0; j < rows.length; j++) {\n            rows[j][i] = await udtParser(field.dataTypeID, rows[j][i], this);\n          }\n        }\n      }\n    }\n    return {\n      columnNames,\n      columnTypes,\n      rows\n    };\n  }\n  /**\n   * Execute a query given as SQL, interpolating the given parameters and\n   * returning the number of affected rows.\n   * Note: Queryable expects a u64, but napi.rs only supports u32.\n   */\n  async executeRaw(query) {\n    const tag = \"[js::execute_raw]\";\n    debug(`${tag} %O`, query);\n    return (await this.performIO(query)).rowCount ?? 0;\n  }\n  /**\n   * Run a query against the database, returning the result set.\n   * Should the query fail due to a connection error, the connection is\n   * marked as unhealthy.\n   */\n  async performIO(query) {\n    const { sql, args } = query;\n    const values = args.map((arg, i) => mapArg(arg, query.argTypes[i]));\n    try {\n      const result = await this.client.query(\n        {\n          text: sql,\n          values,\n          rowMode: \"array\",\n          types: {\n            // This is the error expected:\n            // No overload matches this call.\n            // The last overload gave the following error.\n            // Type '(oid: number, format?: any) => (json: string) => unknown' is not assignable to type '{ <T>(oid: number): TypeParser<string, string | T>; <T>(oid: number, format: \"text\"): TypeParser<string, string | T>; <T>(oid: number, format: \"binary\"): TypeParser<...>; }'.\n            //   Type '(json: string) => unknown' is not assignable to type 'TypeParser<Buffer, any>'.\n            //     Types of parameters 'json' and 'value' are incompatible.\n            //       Type 'Buffer' is not assignable to type 'string'.ts(2769)\n            //\n            // Because pg-types types expect us to handle both binary and text protocol versions,\n            // where as far we can see, pg will ever pass only text version.\n            //\n            // @ts-expect-error\n            getTypeParser: (oid, format) => {\n              if (format === \"text\" && customParsers[oid]) {\n                return customParsers[oid];\n              }\n              return types2.getTypeParser(oid, format);\n            }\n          }\n        },\n        values\n      );\n      return result;\n    } catch (e) {\n      this.onError(e);\n    }\n  }\n  onError(error) {\n    debug(\"Error in performIO: %O\", error);\n    throw new _prisma_driver_adapter_utils__WEBPACK_IMPORTED_MODULE_2__.DriverAdapterError(convertDriverError(error));\n  }\n};\nvar PgTransaction = class extends PgQueryable {\n  constructor(client, options, pgOptions, cleanup) {\n    super(client, pgOptions);\n    this.options = options;\n    this.pgOptions = pgOptions;\n    this.cleanup = cleanup;\n  }\n  async commit() {\n    debug(`[js::commit]`);\n    this.cleanup?.();\n    this.client.release();\n  }\n  async rollback() {\n    debug(`[js::rollback]`);\n    this.cleanup?.();\n    this.client.release();\n  }\n};\nvar PrismaPgAdapter = class extends PgQueryable {\n  constructor(client, pgOptions, release) {\n    super(client);\n    this.pgOptions = pgOptions;\n    this.release = release;\n  }\n  async startTransaction(isolationLevel) {\n    const options = {\n      usePhantomQuery: false\n    };\n    const tag = \"[js::startTransaction]\";\n    debug(\"%s options: %O\", tag, options);\n    const conn = await this.client.connect().catch((error) => this.onError(error));\n    const onError = (err) => {\n      debug(`Error from pool connection: ${err.message} %O`, err);\n      this.pgOptions?.onConnectionError?.(err);\n    };\n    conn.on(\"error\", onError);\n    const cleanup = () => {\n      conn.removeListener(\"error\", onError);\n    };\n    try {\n      const tx = new PgTransaction(conn, options, this.pgOptions, cleanup);\n      await tx.executeRaw({ sql: \"BEGIN\", args: [], argTypes: [] });\n      if (isolationLevel) {\n        await tx.executeRaw({\n          sql: `SET TRANSACTION ISOLATION LEVEL ${isolationLevel}`,\n          args: [],\n          argTypes: []\n        });\n      }\n      return tx;\n    } catch (error) {\n      cleanup();\n      conn.release(error);\n      this.onError(error);\n    }\n  }\n  async executeScript(script) {\n    const statements = script.split(\";\").map((stmt) => stmt.trim()).filter((stmt) => stmt.length > 0);\n    for (const stmt of statements) {\n      try {\n        await this.client.query(stmt);\n      } catch (error) {\n        this.onError(error);\n      }\n    }\n  }\n  getConnectionInfo() {\n    return {\n      schemaName: this.pgOptions?.schema,\n      supportsRelationJoins: true\n    };\n  }\n  async dispose() {\n    return this.release?.();\n  }\n  underlyingDriver() {\n    return this.client;\n  }\n};\nvar PrismaPgAdapterFactory = class {\n  constructor(poolOrConfig, options) {\n    this.options = options;\n    if (poolOrConfig instanceof pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pool) {\n      this.externalPool = poolOrConfig;\n      this.config = poolOrConfig.options;\n    } else {\n      this.externalPool = null;\n      this.config = poolOrConfig;\n    }\n  }\n  provider = \"postgres\";\n  adapterName = name;\n  config;\n  externalPool;\n  async connect() {\n    const client = this.externalPool ?? new pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pool(this.config);\n    const onIdleClientError = (err) => {\n      debug(`Error from idle pool client: ${err.message} %O`, err);\n      this.options?.onPoolError?.(err);\n    };\n    client.on(\"error\", onIdleClientError);\n    return new PrismaPgAdapter(client, this.options, async () => {\n      if (this.externalPool) {\n        if (this.options?.disposeExternalPool) {\n          await this.externalPool.end();\n          this.externalPool = null;\n        } else {\n          this.externalPool.removeListener(\"error\", onIdleClientError);\n        }\n      } else {\n        await client.end();\n      }\n    });\n  }\n  async connectToShadowDb() {\n    const conn = await this.connect();\n    const database = `prisma_migrate_shadow_db_${globalThis.crypto.randomUUID()}`;\n    await conn.executeScript(`CREATE DATABASE \"${database}\"`);\n    const client = new pg__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pool({ ...this.config, database });\n    return new PrismaPgAdapter(client, void 0, async () => {\n      await conn.executeScript(`DROP DATABASE \"${database}\"`);\n      await client.end();\n    });\n  }\n};\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BwcmlzbWErYWRhcHRlci1wZ0A3LjEuMC9ub2RlX21vZHVsZXMvQHByaXNtYS9hZGFwdGVyLXBnL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDeUU7QUFDcEQ7O0FBRXJCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUM4RDtBQUMxQztBQUNpQztBQUNyRCxNQUFNLFFBQVEsRUFBRSwwQ0FBRTtBQUNsQixNQUFNLDRDQUE0QztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxVQUFVO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQTtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQTtBQUNBLGFBQWEsd0VBQWM7QUFDM0I7QUFDQSxhQUFhLHdFQUFjO0FBQzNCO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBO0FBQ0EsYUFBYSx3RUFBYztBQUMzQjtBQUNBO0FBQ0EsZUFBZSx3RUFBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHFEQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVCQUF1QjtBQUNuQztBQUNBO0FBQ0EsZ0RBQWdELEVBQUUsS0FBSyxFQUFFO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsRUFBRSxLQUFLLEVBQUU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFNBQVM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFNBQVM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixRQUFRO0FBQ1IsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsZ0RBQVM7QUFDdEIsWUFBWSxtRUFBSztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLEtBQUs7QUFDbEIsWUFBWSxlQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0Esa0JBQWtCLDRFQUFrQjtBQUNwQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUJBQW1CO0FBQ3pDO0FBQ0E7QUFDQSwwQkFBMEIsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsS0FBSztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0R0FBNEcsa0RBQWtELGtFQUFrRSxzREFBc0Q7QUFDdFI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw0RUFBa0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsYUFBYTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNDQUFzQztBQUNsRTtBQUNBO0FBQ0Esa0RBQWtELGVBQWU7QUFDakU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywrQ0FBUTtBQUN4QztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QywrQ0FBUTtBQUNwRDtBQUNBLDRDQUE0QyxhQUFhO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCwrQkFBK0I7QUFDaEYsaURBQWlELFNBQVM7QUFDMUQsdUJBQXVCLCtDQUFRLEdBQUcsMEJBQTBCO0FBQzVEO0FBQ0EsaURBQWlELFNBQVM7QUFDMUQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUdFIiwic291cmNlcyI6WyJDOlxcQkFTRVxcREVOSUtPLVBST0pFQ1RcXGRlbmlrb1xcbm9kZV9tb2R1bGVzXFwucG5wbVxcQHByaXNtYSthZGFwdGVyLXBnQDcuMS4wXFxub2RlX21vZHVsZXNcXEBwcmlzbWFcXGFkYXB0ZXItcGdcXGRpc3RcXGluZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvcGcudHNcbmltcG9ydCB7IERlYnVnLCBEcml2ZXJBZGFwdGVyRXJyb3IgfSBmcm9tIFwiQHByaXNtYS9kcml2ZXItYWRhcHRlci11dGlsc1wiO1xuaW1wb3J0IHBnMiBmcm9tIFwicGdcIjtcblxuLy8gcGFja2FnZS5qc29uXG52YXIgbmFtZSA9IFwiQHByaXNtYS9hZGFwdGVyLXBnXCI7XG5cbi8vIHNyYy9jb25zdGFudHMudHNcbnZhciBGSVJTVF9OT1JNQUxfT0JKRUNUX0lEID0gMTYzODQ7XG5cbi8vIHNyYy9jb252ZXJzaW9uLnRzXG5pbXBvcnQgeyBDb2x1bW5UeXBlRW51bSB9IGZyb20gXCJAcHJpc21hL2RyaXZlci1hZGFwdGVyLXV0aWxzXCI7XG5pbXBvcnQgcGcgZnJvbSBcInBnXCI7XG5pbXBvcnQgeyBwYXJzZSBhcyBwYXJzZUFycmF5IH0gZnJvbSBcInBvc3RncmVzLWFycmF5XCI7XG52YXIgeyB0eXBlcyB9ID0gcGc7XG52YXIgeyBidWlsdGluczogU2NhbGFyQ29sdW1uVHlwZSwgZ2V0VHlwZVBhcnNlciB9ID0gdHlwZXM7XG52YXIgQWRkaXRpb25hbFNjYWxhckNvbHVtblR5cGUgPSB7XG4gIE5BTUU6IDE5XG59O1xudmFyIEFycmF5Q29sdW1uVHlwZSA9IHtcbiAgQklUX0FSUkFZOiAxNTYxLFxuICBCT09MX0FSUkFZOiAxZTMsXG4gIEJZVEVBX0FSUkFZOiAxMDAxLFxuICBCUENIQVJfQVJSQVk6IDEwMTQsXG4gIENIQVJfQVJSQVk6IDEwMDIsXG4gIENJRFJfQVJSQVk6IDY1MSxcbiAgREFURV9BUlJBWTogMTE4MixcbiAgRkxPQVQ0X0FSUkFZOiAxMDIxLFxuICBGTE9BVDhfQVJSQVk6IDEwMjIsXG4gIElORVRfQVJSQVk6IDEwNDEsXG4gIElOVDJfQVJSQVk6IDEwMDUsXG4gIElOVDRfQVJSQVk6IDEwMDcsXG4gIElOVDhfQVJSQVk6IDEwMTYsXG4gIEpTT05CX0FSUkFZOiAzODA3LFxuICBKU09OX0FSUkFZOiAxOTksXG4gIE1PTkVZX0FSUkFZOiA3OTEsXG4gIE5VTUVSSUNfQVJSQVk6IDEyMzEsXG4gIE9JRF9BUlJBWTogMTAyOCxcbiAgVEVYVF9BUlJBWTogMTAwOSxcbiAgVElNRVNUQU1QX0FSUkFZOiAxMTE1LFxuICBUSU1FU1RBTVBUWl9BUlJBWTogMTE4NSxcbiAgVElNRV9BUlJBWTogMTE4MyxcbiAgVVVJRF9BUlJBWTogMjk1MSxcbiAgVkFSQklUX0FSUkFZOiAxNTYzLFxuICBWQVJDSEFSX0FSUkFZOiAxMDE1LFxuICBYTUxfQVJSQVk6IDE0M1xufTtcbnZhciBVbnN1cHBvcnRlZE5hdGl2ZURhdGFUeXBlID0gY2xhc3MgX1Vuc3VwcG9ydGVkTmF0aXZlRGF0YVR5cGUgZXh0ZW5kcyBFcnJvciB7XG4gIC8vIG1hcCBvZiB0eXBlIGNvZGVzIHRvIHR5cGUgbmFtZXNcbiAgc3RhdGljIHR5cGVOYW1lcyA9IHtcbiAgICAxNjogXCJib29sXCIsXG4gICAgMTc6IFwiYnl0ZWFcIixcbiAgICAxODogXCJjaGFyXCIsXG4gICAgMTk6IFwibmFtZVwiLFxuICAgIDIwOiBcImludDhcIixcbiAgICAyMTogXCJpbnQyXCIsXG4gICAgMjI6IFwiaW50MnZlY3RvclwiLFxuICAgIDIzOiBcImludDRcIixcbiAgICAyNDogXCJyZWdwcm9jXCIsXG4gICAgMjU6IFwidGV4dFwiLFxuICAgIDI2OiBcIm9pZFwiLFxuICAgIDI3OiBcInRpZFwiLFxuICAgIDI4OiBcInhpZFwiLFxuICAgIDI5OiBcImNpZFwiLFxuICAgIDMwOiBcIm9pZHZlY3RvclwiLFxuICAgIDMyOiBcInBnX2RkbF9jb21tYW5kXCIsXG4gICAgNzE6IFwicGdfdHlwZVwiLFxuICAgIDc1OiBcInBnX2F0dHJpYnV0ZVwiLFxuICAgIDgxOiBcInBnX3Byb2NcIixcbiAgICA4MzogXCJwZ19jbGFzc1wiLFxuICAgIDExNDogXCJqc29uXCIsXG4gICAgMTQyOiBcInhtbFwiLFxuICAgIDE5NDogXCJwZ19ub2RlX3RyZWVcIixcbiAgICAyNjk6IFwidGFibGVfYW1faGFuZGxlclwiLFxuICAgIDMyNTogXCJpbmRleF9hbV9oYW5kbGVyXCIsXG4gICAgNjAwOiBcInBvaW50XCIsXG4gICAgNjAxOiBcImxzZWdcIixcbiAgICA2MDI6IFwicGF0aFwiLFxuICAgIDYwMzogXCJib3hcIixcbiAgICA2MDQ6IFwicG9seWdvblwiLFxuICAgIDYyODogXCJsaW5lXCIsXG4gICAgNjUwOiBcImNpZHJcIixcbiAgICA3MDA6IFwiZmxvYXQ0XCIsXG4gICAgNzAxOiBcImZsb2F0OFwiLFxuICAgIDcwNTogXCJ1bmtub3duXCIsXG4gICAgNzE4OiBcImNpcmNsZVwiLFxuICAgIDc3NDogXCJtYWNhZGRyOFwiLFxuICAgIDc5MDogXCJtb25leVwiLFxuICAgIDgyOTogXCJtYWNhZGRyXCIsXG4gICAgODY5OiBcImluZXRcIixcbiAgICAxMDMzOiBcImFjbGl0ZW1cIixcbiAgICAxMDQyOiBcImJwY2hhclwiLFxuICAgIDEwNDM6IFwidmFyY2hhclwiLFxuICAgIDEwODI6IFwiZGF0ZVwiLFxuICAgIDEwODM6IFwidGltZVwiLFxuICAgIDExMTQ6IFwidGltZXN0YW1wXCIsXG4gICAgMTE4NDogXCJ0aW1lc3RhbXB0elwiLFxuICAgIDExODY6IFwiaW50ZXJ2YWxcIixcbiAgICAxMjY2OiBcInRpbWV0elwiLFxuICAgIDE1NjA6IFwiYml0XCIsXG4gICAgMTU2MjogXCJ2YXJiaXRcIixcbiAgICAxNzAwOiBcIm51bWVyaWNcIixcbiAgICAxNzkwOiBcInJlZmN1cnNvclwiLFxuICAgIDIyMDI6IFwicmVncHJvY2VkdXJlXCIsXG4gICAgMjIwMzogXCJyZWdvcGVyXCIsXG4gICAgMjIwNDogXCJyZWdvcGVyYXRvclwiLFxuICAgIDIyMDU6IFwicmVnY2xhc3NcIixcbiAgICAyMjA2OiBcInJlZ3R5cGVcIixcbiAgICAyMjQ5OiBcInJlY29yZFwiLFxuICAgIDIyNzU6IFwiY3N0cmluZ1wiLFxuICAgIDIyNzY6IFwiYW55XCIsXG4gICAgMjI3NzogXCJhbnlhcnJheVwiLFxuICAgIDIyNzg6IFwidm9pZFwiLFxuICAgIDIyNzk6IFwidHJpZ2dlclwiLFxuICAgIDIyODA6IFwibGFuZ3VhZ2VfaGFuZGxlclwiLFxuICAgIDIyODE6IFwiaW50ZXJuYWxcIixcbiAgICAyMjgzOiBcImFueWVsZW1lbnRcIixcbiAgICAyMjg3OiBcIl9yZWNvcmRcIixcbiAgICAyNzc2OiBcImFueW5vbmFycmF5XCIsXG4gICAgMjk1MDogXCJ1dWlkXCIsXG4gICAgMjk3MDogXCJ0eGlkX3NuYXBzaG90XCIsXG4gICAgMzExNTogXCJmZHdfaGFuZGxlclwiLFxuICAgIDMyMjA6IFwicGdfbHNuXCIsXG4gICAgMzMxMDogXCJ0c21faGFuZGxlclwiLFxuICAgIDMzNjE6IFwicGdfbmRpc3RpbmN0XCIsXG4gICAgMzQwMjogXCJwZ19kZXBlbmRlbmNpZXNcIixcbiAgICAzNTAwOiBcImFueWVudW1cIixcbiAgICAzNjE0OiBcInRzdmVjdG9yXCIsXG4gICAgMzYxNTogXCJ0c3F1ZXJ5XCIsXG4gICAgMzY0MjogXCJndHN2ZWN0b3JcIixcbiAgICAzNzM0OiBcInJlZ2NvbmZpZ1wiLFxuICAgIDM3Njk6IFwicmVnZGljdGlvbmFyeVwiLFxuICAgIDM4MDI6IFwianNvbmJcIixcbiAgICAzODMxOiBcImFueXJhbmdlXCIsXG4gICAgMzgzODogXCJldmVudF90cmlnZ2VyXCIsXG4gICAgMzkwNDogXCJpbnQ0cmFuZ2VcIixcbiAgICAzOTA2OiBcIm51bXJhbmdlXCIsXG4gICAgMzkwODogXCJ0c3JhbmdlXCIsXG4gICAgMzkxMDogXCJ0c3R6cmFuZ2VcIixcbiAgICAzOTEyOiBcImRhdGVyYW5nZVwiLFxuICAgIDM5MjY6IFwiaW50OHJhbmdlXCIsXG4gICAgNDA3MjogXCJqc29ucGF0aFwiLFxuICAgIDQwODk6IFwicmVnbmFtZXNwYWNlXCIsXG4gICAgNDA5NjogXCJyZWdyb2xlXCIsXG4gICAgNDE5MTogXCJyZWdjb2xsYXRpb25cIixcbiAgICA0NDUxOiBcImludDRtdWx0aXJhbmdlXCIsXG4gICAgNDUzMjogXCJudW1tdWx0aXJhbmdlXCIsXG4gICAgNDUzMzogXCJ0c211bHRpcmFuZ2VcIixcbiAgICA0NTM0OiBcInRzdHptdWx0aXJhbmdlXCIsXG4gICAgNDUzNTogXCJkYXRlbXVsdGlyYW5nZVwiLFxuICAgIDQ1MzY6IFwiaW50OG11bHRpcmFuZ2VcIixcbiAgICA0NTM3OiBcImFueW11bHRpcmFuZ2VcIixcbiAgICA0NTM4OiBcImFueWNvbXBhdGlibGVtdWx0aXJhbmdlXCIsXG4gICAgNDYwMDogXCJwZ19icmluX2Jsb29tX3N1bW1hcnlcIixcbiAgICA0NjAxOiBcInBnX2JyaW5fbWlubWF4X211bHRpX3N1bW1hcnlcIixcbiAgICA1MDE3OiBcInBnX21jdl9saXN0XCIsXG4gICAgNTAzODogXCJwZ19zbmFwc2hvdFwiLFxuICAgIDUwNjk6IFwieGlkOFwiLFxuICAgIDUwNzc6IFwiYW55Y29tcGF0aWJsZVwiLFxuICAgIDUwNzg6IFwiYW55Y29tcGF0aWJsZWFycmF5XCIsXG4gICAgNTA3OTogXCJhbnljb21wYXRpYmxlbm9uYXJyYXlcIixcbiAgICA1MDgwOiBcImFueWNvbXBhdGlibGVyYW5nZVwiXG4gIH07XG4gIHR5cGU7XG4gIGNvbnN0cnVjdG9yKGNvZGUpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMudHlwZSA9IF9VbnN1cHBvcnRlZE5hdGl2ZURhdGFUeXBlLnR5cGVOYW1lc1tjb2RlXSB8fCBcIlVua25vd25cIjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBgVW5zdXBwb3J0ZWQgY29sdW1uIHR5cGUgJHt0aGlzLnR5cGV9YDtcbiAgfVxufTtcbmZ1bmN0aW9uIGZpZWxkVG9Db2x1bW5UeXBlKGZpZWxkVHlwZUlkKSB7XG4gIHN3aXRjaCAoZmllbGRUeXBlSWQpIHtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuSU5UMjpcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuSU5UNDpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5JbnQzMjtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuSU5UODpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5JbnQ2NDtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuRkxPQVQ0OlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkZsb2F0O1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5GTE9BVDg6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uRG91YmxlO1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5CT09MOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkJvb2xlYW47XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLkRBVEU6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uRGF0ZTtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuVElNRTpcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuVElNRVRaOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLlRpbWU7XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLlRJTUVTVEFNUDpcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuVElNRVNUQU1QVFo6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uRGF0ZVRpbWU7XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLk5VTUVSSUM6XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLk1PTkVZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLk51bWVyaWM7XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLkpTT046XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLkpTT05COlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkpzb247XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLlVVSUQ6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uVXVpZDtcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuT0lEOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkludDY0O1xuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5CUENIQVI6XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLlRFWFQ6XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLlZBUkNIQVI6XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLkJJVDpcbiAgICBjYXNlIFNjYWxhckNvbHVtblR5cGUuVkFSQklUOlxuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5JTkVUOlxuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5DSURSOlxuICAgIGNhc2UgU2NhbGFyQ29sdW1uVHlwZS5YTUw6XG4gICAgY2FzZSBBZGRpdGlvbmFsU2NhbGFyQ29sdW1uVHlwZS5OQU1FOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLlRleHQ7XG4gICAgY2FzZSBTY2FsYXJDb2x1bW5UeXBlLkJZVEVBOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkJ5dGVzO1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLklOVDJfQVJSQVk6XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuSU5UNF9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5JbnQzMkFycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLkZMT0FUNF9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5GbG9hdEFycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLkZMT0FUOF9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5Eb3VibGVBcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5OVU1FUklDX0FSUkFZOlxuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLk1PTkVZX0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLk51bWVyaWNBcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5CT09MX0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkJvb2xlYW5BcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5DSEFSX0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkNoYXJhY3RlckFycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLkJQQ0hBUl9BUlJBWTpcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5URVhUX0FSUkFZOlxuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLlZBUkNIQVJfQVJSQVk6XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuVkFSQklUX0FSUkFZOlxuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLkJJVF9BUlJBWTpcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5JTkVUX0FSUkFZOlxuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLkNJRFJfQVJSQVk6XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuWE1MX0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLlRleHRBcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5EQVRFX0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkRhdGVBcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5USU1FX0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLlRpbWVBcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5USU1FU1RBTVBfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uRGF0ZVRpbWVBcnJheTtcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5USU1FU1RBTVBUWl9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5EYXRlVGltZUFycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLkpTT05fQVJSQVk6XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuSlNPTkJfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uSnNvbkFycmF5O1xuICAgIGNhc2UgQXJyYXlDb2x1bW5UeXBlLkJZVEVBX0FSUkFZOlxuICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLkJ5dGVzQXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuVVVJRF9BUlJBWTpcbiAgICAgIHJldHVybiBDb2x1bW5UeXBlRW51bS5VdWlkQXJyYXk7XG4gICAgY2FzZSBBcnJheUNvbHVtblR5cGUuSU5UOF9BUlJBWTpcbiAgICBjYXNlIEFycmF5Q29sdW1uVHlwZS5PSURfQVJSQVk6XG4gICAgICByZXR1cm4gQ29sdW1uVHlwZUVudW0uSW50NjRBcnJheTtcbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKGZpZWxkVHlwZUlkID49IEZJUlNUX05PUk1BTF9PQkpFQ1RfSUQpIHtcbiAgICAgICAgcmV0dXJuIENvbHVtblR5cGVFbnVtLlRleHQ7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWROYXRpdmVEYXRhVHlwZShmaWVsZFR5cGVJZCk7XG4gIH1cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZV9hcnJheShlbGVtZW50X25vcm1hbGl6ZXIpIHtcbiAgcmV0dXJuIChzdHIpID0+IHBhcnNlQXJyYXkoc3RyLCBlbGVtZW50X25vcm1hbGl6ZXIpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplX251bWVyaWMobnVtZXJpYykge1xuICByZXR1cm4gbnVtZXJpYztcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZV9kYXRlKGRhdGUpIHtcbiAgcmV0dXJuIGRhdGU7XG59XG5mdW5jdGlvbiBub3JtYWxpemVfdGltZXN0YW1wKHRpbWUpIHtcbiAgcmV0dXJuIGAke3RpbWUucmVwbGFjZShcIiBcIiwgXCJUXCIpfSswMDowMGA7XG59XG5mdW5jdGlvbiBub3JtYWxpemVfdGltZXN0YW1wdHoodGltZSkge1xuICByZXR1cm4gdGltZS5yZXBsYWNlKFwiIFwiLCBcIlRcIikucmVwbGFjZSgvWystXVxcZHsyfSg6XFxkezJ9KT8kLywgXCIrMDA6MDBcIik7XG59XG5mdW5jdGlvbiBub3JtYWxpemVfdGltZSh0aW1lKSB7XG4gIHJldHVybiB0aW1lO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplX3RpbWV6KHRpbWUpIHtcbiAgcmV0dXJuIHRpbWUucmVwbGFjZSgvWystXVxcZHsyfSg6XFxkezJ9KT8kLywgXCJcIik7XG59XG5mdW5jdGlvbiBub3JtYWxpemVfbW9uZXkobW9uZXkpIHtcbiAgcmV0dXJuIG1vbmV5LnNsaWNlKDEpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplX3htbCh4bWwpIHtcbiAgcmV0dXJuIHhtbDtcbn1cbmZ1bmN0aW9uIHRvSnNvbihqc29uKSB7XG4gIHJldHVybiBqc29uO1xufVxuZnVuY3Rpb24gZW5jb2RlQnVmZmVyKGJ1ZmZlcikge1xuICByZXR1cm4gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShidWZmZXIpKTtcbn1cbnZhciBwYXJzZVBnQnl0ZXMgPSBnZXRUeXBlUGFyc2VyKFNjYWxhckNvbHVtblR5cGUuQllURUEpO1xudmFyIHBhcnNlQnl0ZXNBcnJheSA9IGdldFR5cGVQYXJzZXIoQXJyYXlDb2x1bW5UeXBlLkJZVEVBX0FSUkFZKTtcbmZ1bmN0aW9uIG5vcm1hbGl6ZUJ5dGVhQXJyYXkoc2VyaWFsaXplZEJ5dGVzQXJyYXkpIHtcbiAgY29uc3QgYnVmZmVycyA9IHBhcnNlQnl0ZXNBcnJheShzZXJpYWxpemVkQnl0ZXNBcnJheSk7XG4gIHJldHVybiBidWZmZXJzLm1hcCgoYnVmKSA9PiBidWYgPyBlbmNvZGVCdWZmZXIoYnVmKSA6IG51bGwpO1xufVxuZnVuY3Rpb24gY29udmVydEJ5dGVzKHNlcmlhbGl6ZWRCeXRlcykge1xuICBjb25zdCBidWZmZXIgPSBwYXJzZVBnQnl0ZXMoc2VyaWFsaXplZEJ5dGVzKTtcbiAgcmV0dXJuIGVuY29kZUJ1ZmZlcihidWZmZXIpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQml0KGJpdCkge1xuICByZXR1cm4gYml0O1xufVxudmFyIGN1c3RvbVBhcnNlcnMgPSB7XG4gIFtTY2FsYXJDb2x1bW5UeXBlLk5VTUVSSUNdOiBub3JtYWxpemVfbnVtZXJpYyxcbiAgW0FycmF5Q29sdW1uVHlwZS5OVU1FUklDX0FSUkFZXTogbm9ybWFsaXplX2FycmF5KG5vcm1hbGl6ZV9udW1lcmljKSxcbiAgW1NjYWxhckNvbHVtblR5cGUuVElNRV06IG5vcm1hbGl6ZV90aW1lLFxuICBbQXJyYXlDb2x1bW5UeXBlLlRJTUVfQVJSQVldOiBub3JtYWxpemVfYXJyYXkobm9ybWFsaXplX3RpbWUpLFxuICBbU2NhbGFyQ29sdW1uVHlwZS5USU1FVFpdOiBub3JtYWxpemVfdGltZXosXG4gIFtTY2FsYXJDb2x1bW5UeXBlLkRBVEVdOiBub3JtYWxpemVfZGF0ZSxcbiAgW0FycmF5Q29sdW1uVHlwZS5EQVRFX0FSUkFZXTogbm9ybWFsaXplX2FycmF5KG5vcm1hbGl6ZV9kYXRlKSxcbiAgW1NjYWxhckNvbHVtblR5cGUuVElNRVNUQU1QXTogbm9ybWFsaXplX3RpbWVzdGFtcCxcbiAgW0FycmF5Q29sdW1uVHlwZS5USU1FU1RBTVBfQVJSQVldOiBub3JtYWxpemVfYXJyYXkobm9ybWFsaXplX3RpbWVzdGFtcCksXG4gIFtTY2FsYXJDb2x1bW5UeXBlLlRJTUVTVEFNUFRaXTogbm9ybWFsaXplX3RpbWVzdGFtcHR6LFxuICBbQXJyYXlDb2x1bW5UeXBlLlRJTUVTVEFNUFRaX0FSUkFZXTogbm9ybWFsaXplX2FycmF5KG5vcm1hbGl6ZV90aW1lc3RhbXB0eiksXG4gIFtTY2FsYXJDb2x1bW5UeXBlLk1PTkVZXTogbm9ybWFsaXplX21vbmV5LFxuICBbQXJyYXlDb2x1bW5UeXBlLk1PTkVZX0FSUkFZXTogbm9ybWFsaXplX2FycmF5KG5vcm1hbGl6ZV9tb25leSksXG4gIFtTY2FsYXJDb2x1bW5UeXBlLkpTT05dOiB0b0pzb24sXG4gIFtBcnJheUNvbHVtblR5cGUuSlNPTl9BUlJBWV06IG5vcm1hbGl6ZV9hcnJheSh0b0pzb24pLFxuICBbU2NhbGFyQ29sdW1uVHlwZS5KU09OQl06IHRvSnNvbixcbiAgW0FycmF5Q29sdW1uVHlwZS5KU09OQl9BUlJBWV06IG5vcm1hbGl6ZV9hcnJheSh0b0pzb24pLFxuICBbU2NhbGFyQ29sdW1uVHlwZS5CWVRFQV06IGNvbnZlcnRCeXRlcyxcbiAgW0FycmF5Q29sdW1uVHlwZS5CWVRFQV9BUlJBWV06IG5vcm1hbGl6ZUJ5dGVhQXJyYXksXG4gIFtBcnJheUNvbHVtblR5cGUuQklUX0FSUkFZXTogbm9ybWFsaXplX2FycmF5KG5vcm1hbGl6ZUJpdCksXG4gIFtBcnJheUNvbHVtblR5cGUuVkFSQklUX0FSUkFZXTogbm9ybWFsaXplX2FycmF5KG5vcm1hbGl6ZUJpdCksXG4gIFtBcnJheUNvbHVtblR5cGUuWE1MX0FSUkFZXTogbm9ybWFsaXplX2FycmF5KG5vcm1hbGl6ZV94bWwpXG59O1xuZnVuY3Rpb24gbWFwQXJnKGFyZywgYXJnVHlwZSkge1xuICBpZiAoYXJnID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSAmJiBhcmdUeXBlLmFyaXR5ID09PSBcImxpc3RcIikge1xuICAgIHJldHVybiBhcmcubWFwKCh2YWx1ZSkgPT4gbWFwQXJnKHZhbHVlLCBhcmdUeXBlKSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIgJiYgYXJnVHlwZS5zY2FsYXJUeXBlID09PSBcImRhdGV0aW1lXCIpIHtcbiAgICBhcmcgPSBuZXcgRGF0ZShhcmcpO1xuICB9XG4gIGlmIChhcmcgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgc3dpdGNoIChhcmdUeXBlLmRiVHlwZSkge1xuICAgICAgY2FzZSBcIlRJTUVcIjpcbiAgICAgIGNhc2UgXCJUSU1FVFpcIjpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWUoYXJnKTtcbiAgICAgIGNhc2UgXCJEQVRFXCI6XG4gICAgICAgIHJldHVybiBmb3JtYXREYXRlKGFyZyk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZm9ybWF0RGF0ZVRpbWUoYXJnKTtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIgJiYgYXJnVHlwZS5zY2FsYXJUeXBlID09PSBcImJ5dGVzXCIpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oYXJnLCBcImJhc2U2NFwiKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhcmcpICYmIGFyZ1R5cGUuc2NhbGFyVHlwZSA9PT0gXCJieXRlc1wiKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGFyZyk7XG4gIH1cbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhhcmcpKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGFyZy5idWZmZXIsIGFyZy5ieXRlT2Zmc2V0LCBhcmcuYnl0ZUxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGFyZztcbn1cbmZ1bmN0aW9uIGZvcm1hdERhdGVUaW1lKGRhdGUpIHtcbiAgY29uc3QgcGFkID0gKG4sIHogPSAyKSA9PiBTdHJpbmcobikucGFkU3RhcnQoeiwgXCIwXCIpO1xuICBjb25zdCBtcyA9IGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCk7XG4gIHJldHVybiBwYWQoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCA0KSArIFwiLVwiICsgcGFkKGRhdGUuZ2V0VVRDTW9udGgoKSArIDEpICsgXCItXCIgKyBwYWQoZGF0ZS5nZXRVVENEYXRlKCkpICsgXCIgXCIgKyBwYWQoZGF0ZS5nZXRVVENIb3VycygpKSArIFwiOlwiICsgcGFkKGRhdGUuZ2V0VVRDTWludXRlcygpKSArIFwiOlwiICsgcGFkKGRhdGUuZ2V0VVRDU2Vjb25kcygpKSArIChtcyA/IFwiLlwiICsgU3RyaW5nKG1zKS5wYWRTdGFydCgzLCBcIjBcIikgOiBcIlwiKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkge1xuICBjb25zdCBwYWQgPSAobiwgeiA9IDIpID0+IFN0cmluZyhuKS5wYWRTdGFydCh6LCBcIjBcIik7XG4gIHJldHVybiBwYWQoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCA0KSArIFwiLVwiICsgcGFkKGRhdGUuZ2V0VVRDTW9udGgoKSArIDEpICsgXCItXCIgKyBwYWQoZGF0ZS5nZXRVVENEYXRlKCkpO1xufVxuZnVuY3Rpb24gZm9ybWF0VGltZShkYXRlKSB7XG4gIGNvbnN0IHBhZCA9IChuLCB6ID0gMikgPT4gU3RyaW5nKG4pLnBhZFN0YXJ0KHosIFwiMFwiKTtcbiAgY29uc3QgbXMgPSBkYXRlLmdldFVUQ01pbGxpc2Vjb25kcygpO1xuICByZXR1cm4gcGFkKGRhdGUuZ2V0VVRDSG91cnMoKSkgKyBcIjpcIiArIHBhZChkYXRlLmdldFVUQ01pbnV0ZXMoKSkgKyBcIjpcIiArIHBhZChkYXRlLmdldFVUQ1NlY29uZHMoKSkgKyAobXMgPyBcIi5cIiArIFN0cmluZyhtcykucGFkU3RhcnQoMywgXCIwXCIpIDogXCJcIik7XG59XG5cbi8vIHNyYy9lcnJvcnMudHNcbnZhciBUTFNfRVJST1JTID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xuICBcIlVOQUJMRV9UT19HRVRfSVNTVUVSX0NFUlRcIixcbiAgXCJVTkFCTEVfVE9fR0VUX0NSTFwiLFxuICBcIlVOQUJMRV9UT19ERUNSWVBUX0NFUlRfU0lHTkFUVVJFXCIsXG4gIFwiVU5BQkxFX1RPX0RFQ1JZUFRfQ1JMX1NJR05BVFVSRVwiLFxuICBcIlVOQUJMRV9UT19ERUNPREVfSVNTVUVSX1BVQkxJQ19LRVlcIixcbiAgXCJDRVJUX1NJR05BVFVSRV9GQUlMVVJFXCIsXG4gIFwiQ1JMX1NJR05BVFVSRV9GQUlMVVJFXCIsXG4gIFwiQ0VSVF9OT1RfWUVUX1ZBTElEXCIsXG4gIFwiQ0VSVF9IQVNfRVhQSVJFRFwiLFxuICBcIkNSTF9OT1RfWUVUX1ZBTElEXCIsXG4gIFwiQ1JMX0hBU19FWFBJUkVEXCIsXG4gIFwiRVJST1JfSU5fQ0VSVF9OT1RfQkVGT1JFX0ZJRUxEXCIsXG4gIFwiRVJST1JfSU5fQ0VSVF9OT1RfQUZURVJfRklFTERcIixcbiAgXCJFUlJPUl9JTl9DUkxfTEFTVF9VUERBVEVfRklFTERcIixcbiAgXCJFUlJPUl9JTl9DUkxfTkVYVF9VUERBVEVfRklFTERcIixcbiAgXCJERVBUSF9aRVJPX1NFTEZfU0lHTkVEX0NFUlRcIixcbiAgXCJTRUxGX1NJR05FRF9DRVJUX0lOX0NIQUlOXCIsXG4gIFwiVU5BQkxFX1RPX0dFVF9JU1NVRVJfQ0VSVF9MT0NBTExZXCIsXG4gIFwiVU5BQkxFX1RPX1ZFUklGWV9MRUFGX1NJR05BVFVSRVwiLFxuICBcIkNFUlRfQ0hBSU5fVE9PX0xPTkdcIixcbiAgXCJDRVJUX1JFVk9LRURcIixcbiAgXCJJTlZBTElEX0NBXCIsXG4gIFwiSU5WQUxJRF9QVVJQT1NFXCIsXG4gIFwiQ0VSVF9VTlRSVVNURURcIixcbiAgXCJDRVJUX1JFSkVDVEVEXCIsXG4gIFwiSE9TVE5BTUVfTUlTTUFUQ0hcIixcbiAgXCJFUlJfVExTX0NFUlRfQUxUTkFNRV9GT1JNQVRcIixcbiAgXCJFUlJfVExTX0NFUlRfQUxUTkFNRV9JTlZBTElEXCJcbl0pO1xudmFyIFNPQ0tFVF9FUlJPUlMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXCJFTk9URk9VTkRcIiwgXCJFQ09OTlJFRlVTRURcIiwgXCJFQ09OTlJFU0VUXCIsIFwiRVRJTUVET1VUXCJdKTtcbmZ1bmN0aW9uIGNvbnZlcnREcml2ZXJFcnJvcihlcnJvcikge1xuICBpZiAoaXNTb2NrZXRFcnJvcihlcnJvcikpIHtcbiAgICByZXR1cm4gbWFwU29ja2V0RXJyb3IoZXJyb3IpO1xuICB9XG4gIGlmIChpc1Rsc0Vycm9yKGVycm9yKSkge1xuICAgIHJldHVybiB7XG4gICAgICBraW5kOiBcIlRsc0Nvbm5lY3Rpb25FcnJvclwiLFxuICAgICAgcmVhc29uOiBlcnJvci5tZXNzYWdlXG4gICAgfTtcbiAgfVxuICBpZiAoaXNEcml2ZXJFcnJvcihlcnJvcikpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3JpZ2luYWxDb2RlOiBlcnJvci5jb2RlLFxuICAgICAgb3JpZ2luYWxNZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgLi4ubWFwRHJpdmVyRXJyb3IoZXJyb3IpXG4gICAgfTtcbiAgfVxuICB0aHJvdyBlcnJvcjtcbn1cbmZ1bmN0aW9uIG1hcERyaXZlckVycm9yKGVycm9yKSB7XG4gIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgIGNhc2UgXCIyMjAwMVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJMZW5ndGhNaXNtYXRjaFwiLFxuICAgICAgICBjb2x1bW46IGVycm9yLmNvbHVtblxuICAgICAgfTtcbiAgICBjYXNlIFwiMjIwMDNcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiVmFsdWVPdXRPZlJhbmdlXCIsXG4gICAgICAgIGNhdXNlOiBlcnJvci5tZXNzYWdlXG4gICAgICB9O1xuICAgIGNhc2UgXCIyMzUwNVwiOiB7XG4gICAgICBjb25zdCBmaWVsZHMgPSBlcnJvci5kZXRhaWw/Lm1hdGNoKC9LZXkgXFwoKFteKV0rKVxcKS8pPy5hdCgxKT8uc3BsaXQoXCIsIFwiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiVW5pcXVlQ29uc3RyYWludFZpb2xhdGlvblwiLFxuICAgICAgICBjb25zdHJhaW50OiBmaWVsZHMgIT09IHZvaWQgMCA/IHsgZmllbGRzIH0gOiB2b2lkIDBcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgXCIyMzUwMlwiOiB7XG4gICAgICBjb25zdCBmaWVsZHMgPSBlcnJvci5kZXRhaWw/Lm1hdGNoKC9LZXkgXFwoKFteKV0rKVxcKS8pPy5hdCgxKT8uc3BsaXQoXCIsIFwiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiTnVsbENvbnN0cmFpbnRWaW9sYXRpb25cIixcbiAgICAgICAgY29uc3RyYWludDogZmllbGRzICE9PSB2b2lkIDAgPyB7IGZpZWxkcyB9IDogdm9pZCAwXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIFwiMjM1MDNcIjoge1xuICAgICAgbGV0IGNvbnN0cmFpbnQ7XG4gICAgICBpZiAoZXJyb3IuY29sdW1uKSB7XG4gICAgICAgIGNvbnN0cmFpbnQgPSB7IGZpZWxkczogW2Vycm9yLmNvbHVtbl0gfTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IuY29uc3RyYWludCkge1xuICAgICAgICBjb25zdHJhaW50ID0geyBpbmRleDogZXJyb3IuY29uc3RyYWludCB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJGb3JlaWduS2V5Q29uc3RyYWludFZpb2xhdGlvblwiLFxuICAgICAgICBjb25zdHJhaW50XG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIFwiM0QwMDBcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiRGF0YWJhc2VEb2VzTm90RXhpc3RcIixcbiAgICAgICAgZGI6IGVycm9yLm1lc3NhZ2Uuc3BsaXQoXCIgXCIpLmF0KDEpPy5zcGxpdCgnXCInKS5hdCgxKVxuICAgICAgfTtcbiAgICBjYXNlIFwiMjgwMDBcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiRGF0YWJhc2VBY2Nlc3NEZW5pZWRcIixcbiAgICAgICAgZGI6IGVycm9yLm1lc3NhZ2Uuc3BsaXQoXCIsXCIpLmZpbmQoKHMpID0+IHMuc3RhcnRzV2l0aChcIiBkYXRhYmFzZVwiKSk/LnNwbGl0KCdcIicpLmF0KDEpXG4gICAgICB9O1xuICAgIGNhc2UgXCIyOFAwMVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJBdXRoZW50aWNhdGlvbkZhaWxlZFwiLFxuICAgICAgICB1c2VyOiBlcnJvci5tZXNzYWdlLnNwbGl0KFwiIFwiKS5wb3AoKT8uc3BsaXQoJ1wiJykuYXQoMSlcbiAgICAgIH07XG4gICAgY2FzZSBcIjQwMDAxXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIlRyYW5zYWN0aW9uV3JpdGVDb25mbGljdFwiXG4gICAgICB9O1xuICAgIGNhc2UgXCI0MlAwMVwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJUYWJsZURvZXNOb3RFeGlzdFwiLFxuICAgICAgICB0YWJsZTogZXJyb3IubWVzc2FnZS5zcGxpdChcIiBcIikuYXQoMSk/LnNwbGl0KCdcIicpLmF0KDEpXG4gICAgICB9O1xuICAgIGNhc2UgXCI0MjcwM1wiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJDb2x1bW5Ob3RGb3VuZFwiLFxuICAgICAgICBjb2x1bW46IGVycm9yLm1lc3NhZ2Uuc3BsaXQoXCIgXCIpLmF0KDEpPy5zcGxpdCgnXCInKS5hdCgxKVxuICAgICAgfTtcbiAgICBjYXNlIFwiNDJQMDRcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiRGF0YWJhc2VBbHJlYWR5RXhpc3RzXCIsXG4gICAgICAgIGRiOiBlcnJvci5tZXNzYWdlLnNwbGl0KFwiIFwiKS5hdCgxKT8uc3BsaXQoJ1wiJykuYXQoMSlcbiAgICAgIH07XG4gICAgY2FzZSBcIjUzMzAwXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBcIlRvb01hbnlDb25uZWN0aW9uc1wiLFxuICAgICAgICBjYXVzZTogZXJyb3IubWVzc2FnZVxuICAgICAgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJwb3N0Z3Jlc1wiLFxuICAgICAgICBjb2RlOiBlcnJvci5jb2RlID8/IFwiTi9BXCIsXG4gICAgICAgIHNldmVyaXR5OiBlcnJvci5zZXZlcml0eSA/PyBcIk4vQVwiLFxuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICBkZXRhaWw6IGVycm9yLmRldGFpbCxcbiAgICAgICAgY29sdW1uOiBlcnJvci5jb2x1bW4sXG4gICAgICAgIGhpbnQ6IGVycm9yLmhpbnRcbiAgICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGlzRHJpdmVyRXJyb3IoZXJyb3IpIHtcbiAgcmV0dXJuIHR5cGVvZiBlcnJvci5jb2RlID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBlcnJvci5zZXZlcml0eSA9PT0gXCJzdHJpbmdcIiAmJiAodHlwZW9mIGVycm9yLmRldGFpbCA9PT0gXCJzdHJpbmdcIiB8fCBlcnJvci5kZXRhaWwgPT09IHZvaWQgMCkgJiYgKHR5cGVvZiBlcnJvci5jb2x1bW4gPT09IFwic3RyaW5nXCIgfHwgZXJyb3IuY29sdW1uID09PSB2b2lkIDApICYmICh0eXBlb2YgZXJyb3IuaGludCA9PT0gXCJzdHJpbmdcIiB8fCBlcnJvci5oaW50ID09PSB2b2lkIDApO1xufVxuZnVuY3Rpb24gbWFwU29ja2V0RXJyb3IoZXJyb3IpIHtcbiAgc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgY2FzZSBcIkVOT1RGT1VORFwiOlxuICAgIGNhc2UgXCJFQ09OTlJFRlVTRURcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IFwiRGF0YWJhc2VOb3RSZWFjaGFibGVcIixcbiAgICAgICAgaG9zdDogZXJyb3IuYWRkcmVzcyA/PyBlcnJvci5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogZXJyb3IucG9ydFxuICAgICAgfTtcbiAgICBjYXNlIFwiRUNPTk5SRVNFVFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJDb25uZWN0aW9uQ2xvc2VkXCJcbiAgICAgIH07XG4gICAgY2FzZSBcIkVUSU1FRE9VVFwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogXCJTb2NrZXRUaW1lb3V0XCJcbiAgICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGlzU29ja2V0RXJyb3IoZXJyb3IpIHtcbiAgcmV0dXJuIHR5cGVvZiBlcnJvci5jb2RlID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBlcnJvci5zeXNjYWxsID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBlcnJvci5lcnJubyA9PT0gXCJudW1iZXJcIiAmJiBTT0NLRVRfRVJST1JTLmhhcyhlcnJvci5jb2RlKTtcbn1cbmZ1bmN0aW9uIGlzVGxzRXJyb3IoZXJyb3IpIHtcbiAgaWYgKHR5cGVvZiBlcnJvci5jb2RlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIFRMU19FUlJPUlMuaGFzKGVycm9yLmNvZGUpO1xuICB9XG4gIHN3aXRjaCAoZXJyb3IubWVzc2FnZSkge1xuICAgIGNhc2UgXCJUaGUgc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgU1NMIGNvbm5lY3Rpb25zXCI6XG4gICAgY2FzZSBcIlRoZXJlIHdhcyBhbiBlcnJvciBlc3RhYmxpc2hpbmcgYW4gU1NMIGNvbm5lY3Rpb25cIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gc3JjL3BnLnRzXG52YXIgdHlwZXMyID0gcGcyLnR5cGVzO1xudmFyIGRlYnVnID0gRGVidWcoXCJwcmlzbWE6ZHJpdmVyLWFkYXB0ZXI6cGdcIik7XG52YXIgUGdRdWVyeWFibGUgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgcGdPcHRpb25zKSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy5wZ09wdGlvbnMgPSBwZ09wdGlvbnM7XG4gIH1cbiAgcHJvdmlkZXIgPSBcInBvc3RncmVzXCI7XG4gIGFkYXB0ZXJOYW1lID0gbmFtZTtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBxdWVyeSBnaXZlbiBhcyBTUUwsIGludGVycG9sYXRpbmcgdGhlIGdpdmVuIHBhcmFtZXRlcnMuXG4gICAqL1xuICBhc3luYyBxdWVyeVJhdyhxdWVyeSkge1xuICAgIGNvbnN0IHRhZyA9IFwiW2pzOjpxdWVyeV9yYXddXCI7XG4gICAgZGVidWcoYCR7dGFnfSAlT2AsIHF1ZXJ5KTtcbiAgICBjb25zdCB7IGZpZWxkcywgcm93cyB9ID0gYXdhaXQgdGhpcy5wZXJmb3JtSU8ocXVlcnkpO1xuICAgIGNvbnN0IGNvbHVtbk5hbWVzID0gZmllbGRzLm1hcCgoZmllbGQpID0+IGZpZWxkLm5hbWUpO1xuICAgIGxldCBjb2x1bW5UeXBlcyA9IFtdO1xuICAgIHRyeSB7XG4gICAgICBjb2x1bW5UeXBlcyA9IGZpZWxkcy5tYXAoKGZpZWxkKSA9PiBmaWVsZFRvQ29sdW1uVHlwZShmaWVsZC5kYXRhVHlwZUlEKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKGUgaW5zdGFuY2VvZiBVbnN1cHBvcnRlZE5hdGl2ZURhdGFUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBEcml2ZXJBZGFwdGVyRXJyb3Ioe1xuICAgICAgICAgIGtpbmQ6IFwiVW5zdXBwb3J0ZWROYXRpdmVEYXRhVHlwZVwiLFxuICAgICAgICAgIHR5cGU6IGUudHlwZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIGNvbnN0IHVkdFBhcnNlciA9IHRoaXMucGdPcHRpb25zPy51c2VyRGVmaW5lZFR5cGVQYXJzZXI7XG4gICAgaWYgKHVkdFBhcnNlcikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZmllbGQgPSBmaWVsZHNbaV07XG4gICAgICAgIGlmIChmaWVsZC5kYXRhVHlwZUlEID49IEZJUlNUX05PUk1BTF9PQkpFQ1RfSUQgJiYgIU9iamVjdC5oYXNPd24oY3VzdG9tUGFyc2VycywgZmllbGQuZGF0YVR5cGVJRCkpIHtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJvd3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHJvd3Nbal1baV0gPSBhd2FpdCB1ZHRQYXJzZXIoZmllbGQuZGF0YVR5cGVJRCwgcm93c1tqXVtpXSwgdGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBjb2x1bW5OYW1lcyxcbiAgICAgIGNvbHVtblR5cGVzLFxuICAgICAgcm93c1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBxdWVyeSBnaXZlbiBhcyBTUUwsIGludGVycG9sYXRpbmcgdGhlIGdpdmVuIHBhcmFtZXRlcnMgYW5kXG4gICAqIHJldHVybmluZyB0aGUgbnVtYmVyIG9mIGFmZmVjdGVkIHJvd3MuXG4gICAqIE5vdGU6IFF1ZXJ5YWJsZSBleHBlY3RzIGEgdTY0LCBidXQgbmFwaS5ycyBvbmx5IHN1cHBvcnRzIHUzMi5cbiAgICovXG4gIGFzeW5jIGV4ZWN1dGVSYXcocXVlcnkpIHtcbiAgICBjb25zdCB0YWcgPSBcIltqczo6ZXhlY3V0ZV9yYXddXCI7XG4gICAgZGVidWcoYCR7dGFnfSAlT2AsIHF1ZXJ5KTtcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMucGVyZm9ybUlPKHF1ZXJ5KSkucm93Q291bnQgPz8gMDtcbiAgfVxuICAvKipcbiAgICogUnVuIGEgcXVlcnkgYWdhaW5zdCB0aGUgZGF0YWJhc2UsIHJldHVybmluZyB0aGUgcmVzdWx0IHNldC5cbiAgICogU2hvdWxkIHRoZSBxdWVyeSBmYWlsIGR1ZSB0byBhIGNvbm5lY3Rpb24gZXJyb3IsIHRoZSBjb25uZWN0aW9uIGlzXG4gICAqIG1hcmtlZCBhcyB1bmhlYWx0aHkuXG4gICAqL1xuICBhc3luYyBwZXJmb3JtSU8ocXVlcnkpIHtcbiAgICBjb25zdCB7IHNxbCwgYXJncyB9ID0gcXVlcnk7XG4gICAgY29uc3QgdmFsdWVzID0gYXJncy5tYXAoKGFyZywgaSkgPT4gbWFwQXJnKGFyZywgcXVlcnkuYXJnVHlwZXNbaV0pKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGllbnQucXVlcnkoXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXh0OiBzcWwsXG4gICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgIHJvd01vZGU6IFwiYXJyYXlcIixcbiAgICAgICAgICB0eXBlczoge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgZXJyb3IgZXhwZWN0ZWQ6XG4gICAgICAgICAgICAvLyBObyBvdmVybG9hZCBtYXRjaGVzIHRoaXMgY2FsbC5cbiAgICAgICAgICAgIC8vIFRoZSBsYXN0IG92ZXJsb2FkIGdhdmUgdGhlIGZvbGxvd2luZyBlcnJvci5cbiAgICAgICAgICAgIC8vIFR5cGUgJyhvaWQ6IG51bWJlciwgZm9ybWF0PzogYW55KSA9PiAoanNvbjogc3RyaW5nKSA9PiB1bmtub3duJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICd7IDxUPihvaWQ6IG51bWJlcik6IFR5cGVQYXJzZXI8c3RyaW5nLCBzdHJpbmcgfCBUPjsgPFQ+KG9pZDogbnVtYmVyLCBmb3JtYXQ6IFwidGV4dFwiKTogVHlwZVBhcnNlcjxzdHJpbmcsIHN0cmluZyB8IFQ+OyA8VD4ob2lkOiBudW1iZXIsIGZvcm1hdDogXCJiaW5hcnlcIik6IFR5cGVQYXJzZXI8Li4uPjsgfScuXG4gICAgICAgICAgICAvLyAgIFR5cGUgJyhqc29uOiBzdHJpbmcpID0+IHVua25vd24nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIHR5cGUgJ1R5cGVQYXJzZXI8QnVmZmVyLCBhbnk+Jy5cbiAgICAgICAgICAgIC8vICAgICBUeXBlcyBvZiBwYXJhbWV0ZXJzICdqc29uJyBhbmQgJ3ZhbHVlJyBhcmUgaW5jb21wYXRpYmxlLlxuICAgICAgICAgICAgLy8gICAgICAgVHlwZSAnQnVmZmVyJyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdzdHJpbmcnLnRzKDI3NjkpXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQmVjYXVzZSBwZy10eXBlcyB0eXBlcyBleHBlY3QgdXMgdG8gaGFuZGxlIGJvdGggYmluYXJ5IGFuZCB0ZXh0IHByb3RvY29sIHZlcnNpb25zLFxuICAgICAgICAgICAgLy8gd2hlcmUgYXMgZmFyIHdlIGNhbiBzZWUsIHBnIHdpbGwgZXZlciBwYXNzIG9ubHkgdGV4dCB2ZXJzaW9uLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIGdldFR5cGVQYXJzZXI6IChvaWQsIGZvcm1hdCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoZm9ybWF0ID09PSBcInRleHRcIiAmJiBjdXN0b21QYXJzZXJzW29pZF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VzdG9tUGFyc2Vyc1tvaWRdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB0eXBlczIuZ2V0VHlwZVBhcnNlcihvaWQsIGZvcm1hdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZXNcbiAgICAgICk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMub25FcnJvcihlKTtcbiAgICB9XG4gIH1cbiAgb25FcnJvcihlcnJvcikge1xuICAgIGRlYnVnKFwiRXJyb3IgaW4gcGVyZm9ybUlPOiAlT1wiLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IERyaXZlckFkYXB0ZXJFcnJvcihjb252ZXJ0RHJpdmVyRXJyb3IoZXJyb3IpKTtcbiAgfVxufTtcbnZhciBQZ1RyYW5zYWN0aW9uID0gY2xhc3MgZXh0ZW5kcyBQZ1F1ZXJ5YWJsZSB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgb3B0aW9ucywgcGdPcHRpb25zLCBjbGVhbnVwKSB7XG4gICAgc3VwZXIoY2xpZW50LCBwZ09wdGlvbnMpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5wZ09wdGlvbnMgPSBwZ09wdGlvbnM7XG4gICAgdGhpcy5jbGVhbnVwID0gY2xlYW51cDtcbiAgfVxuICBhc3luYyBjb21taXQoKSB7XG4gICAgZGVidWcoYFtqczo6Y29tbWl0XWApO1xuICAgIHRoaXMuY2xlYW51cD8uKCk7XG4gICAgdGhpcy5jbGllbnQucmVsZWFzZSgpO1xuICB9XG4gIGFzeW5jIHJvbGxiYWNrKCkge1xuICAgIGRlYnVnKGBbanM6OnJvbGxiYWNrXWApO1xuICAgIHRoaXMuY2xlYW51cD8uKCk7XG4gICAgdGhpcy5jbGllbnQucmVsZWFzZSgpO1xuICB9XG59O1xudmFyIFByaXNtYVBnQWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgUGdRdWVyeWFibGUge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIHBnT3B0aW9ucywgcmVsZWFzZSkge1xuICAgIHN1cGVyKGNsaWVudCk7XG4gICAgdGhpcy5wZ09wdGlvbnMgPSBwZ09wdGlvbnM7XG4gICAgdGhpcy5yZWxlYXNlID0gcmVsZWFzZTtcbiAgfVxuICBhc3luYyBzdGFydFRyYW5zYWN0aW9uKGlzb2xhdGlvbkxldmVsKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIHVzZVBoYW50b21RdWVyeTogZmFsc2VcbiAgICB9O1xuICAgIGNvbnN0IHRhZyA9IFwiW2pzOjpzdGFydFRyYW5zYWN0aW9uXVwiO1xuICAgIGRlYnVnKFwiJXMgb3B0aW9uczogJU9cIiwgdGFnLCBvcHRpb25zKTtcbiAgICBjb25zdCBjb25uID0gYXdhaXQgdGhpcy5jbGllbnQuY29ubmVjdCgpLmNhdGNoKChlcnJvcikgPT4gdGhpcy5vbkVycm9yKGVycm9yKSk7XG4gICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcbiAgICAgIGRlYnVnKGBFcnJvciBmcm9tIHBvb2wgY29ubmVjdGlvbjogJHtlcnIubWVzc2FnZX0gJU9gLCBlcnIpO1xuICAgICAgdGhpcy5wZ09wdGlvbnM/Lm9uQ29ubmVjdGlvbkVycm9yPy4oZXJyKTtcbiAgICB9O1xuICAgIGNvbm4ub24oXCJlcnJvclwiLCBvbkVycm9yKTtcbiAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgY29ubi5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHR4ID0gbmV3IFBnVHJhbnNhY3Rpb24oY29ubiwgb3B0aW9ucywgdGhpcy5wZ09wdGlvbnMsIGNsZWFudXApO1xuICAgICAgYXdhaXQgdHguZXhlY3V0ZVJhdyh7IHNxbDogXCJCRUdJTlwiLCBhcmdzOiBbXSwgYXJnVHlwZXM6IFtdIH0pO1xuICAgICAgaWYgKGlzb2xhdGlvbkxldmVsKSB7XG4gICAgICAgIGF3YWl0IHR4LmV4ZWN1dGVSYXcoe1xuICAgICAgICAgIHNxbDogYFNFVCBUUkFOU0FDVElPTiBJU09MQVRJT04gTEVWRUwgJHtpc29sYXRpb25MZXZlbH1gLFxuICAgICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICAgIGFyZ1R5cGVzOiBbXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0eDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgY29ubi5yZWxlYXNlKGVycm9yKTtcbiAgICAgIHRoaXMub25FcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG4gIGFzeW5jIGV4ZWN1dGVTY3JpcHQoc2NyaXB0KSB7XG4gICAgY29uc3Qgc3RhdGVtZW50cyA9IHNjcmlwdC5zcGxpdChcIjtcIikubWFwKChzdG10KSA9PiBzdG10LnRyaW0oKSkuZmlsdGVyKChzdG10KSA9PiBzdG10Lmxlbmd0aCA+IDApO1xuICAgIGZvciAoY29uc3Qgc3RtdCBvZiBzdGF0ZW1lbnRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5xdWVyeShzdG10KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMub25FcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldENvbm5lY3Rpb25JbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzY2hlbWFOYW1lOiB0aGlzLnBnT3B0aW9ucz8uc2NoZW1hLFxuICAgICAgc3VwcG9ydHNSZWxhdGlvbkpvaW5zOiB0cnVlXG4gICAgfTtcbiAgfVxuICBhc3luYyBkaXNwb3NlKCkge1xuICAgIHJldHVybiB0aGlzLnJlbGVhc2U/LigpO1xuICB9XG4gIHVuZGVybHlpbmdEcml2ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50O1xuICB9XG59O1xudmFyIFByaXNtYVBnQWRhcHRlckZhY3RvcnkgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHBvb2xPckNvbmZpZywgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKHBvb2xPckNvbmZpZyBpbnN0YW5jZW9mIHBnMi5Qb29sKSB7XG4gICAgICB0aGlzLmV4dGVybmFsUG9vbCA9IHBvb2xPckNvbmZpZztcbiAgICAgIHRoaXMuY29uZmlnID0gcG9vbE9yQ29uZmlnLm9wdGlvbnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXh0ZXJuYWxQb29sID0gbnVsbDtcbiAgICAgIHRoaXMuY29uZmlnID0gcG9vbE9yQ29uZmlnO1xuICAgIH1cbiAgfVxuICBwcm92aWRlciA9IFwicG9zdGdyZXNcIjtcbiAgYWRhcHRlck5hbWUgPSBuYW1lO1xuICBjb25maWc7XG4gIGV4dGVybmFsUG9vbDtcbiAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICBjb25zdCBjbGllbnQgPSB0aGlzLmV4dGVybmFsUG9vbCA/PyBuZXcgcGcyLlBvb2wodGhpcy5jb25maWcpO1xuICAgIGNvbnN0IG9uSWRsZUNsaWVudEVycm9yID0gKGVycikgPT4ge1xuICAgICAgZGVidWcoYEVycm9yIGZyb20gaWRsZSBwb29sIGNsaWVudDogJHtlcnIubWVzc2FnZX0gJU9gLCBlcnIpO1xuICAgICAgdGhpcy5vcHRpb25zPy5vblBvb2xFcnJvcj8uKGVycik7XG4gICAgfTtcbiAgICBjbGllbnQub24oXCJlcnJvclwiLCBvbklkbGVDbGllbnRFcnJvcik7XG4gICAgcmV0dXJuIG5ldyBQcmlzbWFQZ0FkYXB0ZXIoY2xpZW50LCB0aGlzLm9wdGlvbnMsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmV4dGVybmFsUG9vbCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zPy5kaXNwb3NlRXh0ZXJuYWxQb29sKSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5leHRlcm5hbFBvb2wuZW5kKCk7XG4gICAgICAgICAgdGhpcy5leHRlcm5hbFBvb2wgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZXh0ZXJuYWxQb29sLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgb25JZGxlQ2xpZW50RXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBjbGllbnQuZW5kKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgY29ubmVjdFRvU2hhZG93RGIoKSB7XG4gICAgY29uc3QgY29ubiA9IGF3YWl0IHRoaXMuY29ubmVjdCgpO1xuICAgIGNvbnN0IGRhdGFiYXNlID0gYHByaXNtYV9taWdyYXRlX3NoYWRvd19kYl8ke2dsb2JhbFRoaXMuY3J5cHRvLnJhbmRvbVVVSUQoKX1gO1xuICAgIGF3YWl0IGNvbm4uZXhlY3V0ZVNjcmlwdChgQ1JFQVRFIERBVEFCQVNFIFwiJHtkYXRhYmFzZX1cImApO1xuICAgIGNvbnN0IGNsaWVudCA9IG5ldyBwZzIuUG9vbCh7IC4uLnRoaXMuY29uZmlnLCBkYXRhYmFzZSB9KTtcbiAgICByZXR1cm4gbmV3IFByaXNtYVBnQWRhcHRlcihjbGllbnQsIHZvaWQgMCwgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgY29ubi5leGVjdXRlU2NyaXB0KGBEUk9QIERBVEFCQVNFIFwiJHtkYXRhYmFzZX1cImApO1xuICAgICAgYXdhaXQgY2xpZW50LmVuZCgpO1xuICAgIH0pO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgUHJpc21hUGdBZGFwdGVyRmFjdG9yeSBhcyBQcmlzbWFQZ1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@prisma+adapter-pg@7.1.0/node_modules/@prisma/adapter-pg/dist/index.mjs\n");

/***/ })

};
;