graph TD
    Build[Build Time]
    Request[Runtime Request]
    
    subgraph "SEO Generation"
        Layout[layout.tsx]
        Page[page.tsx]
        Meta[generateMetadata()]
        Sitemap[sitemap.ts]
        Robots[robots.ts]
    end
    
    DB[(Database)]

    Build --> Sitemap
    Build --> Robots
    
    Request --> Page
    Page --> Meta
    Meta -->|Fetch SEO Data| DB
    Sitemap -->|Fetch Public Routes| DB
    
    Meta --> Head[<head> Tags]
    Sitemap --> XML[sitemap.xml]
    Robots --> TXT[robots.txt]
