C4Container
    title Container Diagram for Deniko System

    Person(user, "User", "Student or Teacher")
    Person(admin, "Admin", "System Administrator")

    System_Boundary(c1, "Deniko Platform") {
        Container(web_app, "Web Application", "Next.js (React)", "Delivers the static content and the interactive dashboard.")
        Container(api, "API Application", "Next.js API Routes", "Handles business logic, auth, and data access.")
        ContainerDb(database, "Database", "PostgreSQL", "Stores user data, profiles, and application state.")
        Container(storage, "Object Storage", "Google Cloud Storage", "Stores user uploads (avatars, course files).")
        Container(cache, "Cache / Rate Limit", "Upstash (Redis)", "Stores rate limit counters and temporary sessions.")
    }

    System_Ext(email_system, "Email System", "SMTP / SendGrid", "Sends transactional emails.")
    System_Ext(google_auth, "Google OAuth", "Google", "Handles social login.")

    Rel(user, web_app, "Uses", "HTTPS")
    Rel(web_app, api, "Makes API calls to", "JSON/HTTPS")
    Rel(api, database, "Reads/Writes", "Prisma/TCP")
    Rel(api, storage, "Uploads/Downloads", "GCS API")
    Rel(api, cache, "Checks limits", "HTTP/Redis")
    Rel(api, email_system, "Sends emails via", "SMTP")
    Rel(web_app, google_auth, "Redirects for login", "HTTPS")
